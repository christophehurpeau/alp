{"version":3,"sources":["../../src/layout/htmlLayout.js"],"names":["Element","assetUrl","uneval","helmet","content","version","scriptName","styleName","initialData","polyfillFeatures","htmlAttributes","toString","title","meta","link","base","style","script","bodyAttributes"],"mappings":"AAAA;AACA,SAAcA,mBAAd,QAA6B,OAA7B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;;;AAEA,gEAA+B,SAC7B,2CAAY,UAAZ,GAD6B,EAE7B,8CAAe,cAAf,GAF6B,CAA/B;AAKA,8CAAsB,SACpB,6BAAgB,uBAAhB,CADoB,EAEpB,oBAAO,uBAAP,CAFoB,EAGpB,mBAAM,uBAAN,CAHoB,EAIpB,mBAAM,uBAAN,CAJoB,EAKpB,mBAAM,uBAAN,CALoB,EAMpB,qBAAQ,uBAAR,CANoB,EAOpB,oBAAO,uBAAP,CAPoB,CAAtB;;;AAUA,OAAO,oDAAyB,cAC9B,yBAAa,WAAC,YAAD,CAAb,OAD8B,EAE9B,sBAAS,UAAT,CAF8B,EAG9B,yBAAY,oBAAS,gBAAT,CAAZ,CAH8B,EAI9B,wBAAW,oBAAS,gBAAT,CAAX,CAJ8B,EAK9B,0BAAc,WAAC,OAAD,CAAd,OAL8B,EAM9B,+BAAmB,WAAC,UAAD,CAAnB,OAN8B,CAAzB;;AASP,gBAAe,oBACbC,MADa,EAEbC,OAFa;AAAA,MAIXC,OAJW,QAIXA,OAJW;AAAA,MAKXC,UALW,QAKXA,UALW;AAAA,MAMXC,SANW,QAMXA,SANW;AAAA,MAOXC,WAPW,QAOXA,WAPW;AAAA,mCAQXC,gBARW;AAAA,MAQXA,gBARW,yCAQQ,yCARR;;AAAA,qBAEN,UAFM;;AAAA,6BAUZ,UAVY;;AAAA,oBACP,cADO;AAAA;AAAA,wDAYPN,OAAOO,cAAP,CAAsBC,QAAtB,EAZO,yBAcTR,OAAOS,KAAP,CAAaD,QAAb,EAdS,cAeTR,OAAOU,IAAP,CAAYF,QAAZ,EAfS,cAgBTR,OAAOW,IAAP,CAAYH,QAAZ,EAhBS,cAiBTR,OAAOY,IAAP,CAAYJ,QAAZ,EAjBS,2CAkBoBV,gBAAaM,aAAa,OAA1B,YAAyCF,OAAzC,CAlBpB,kBAmBTF,OAAOa,KAAP,CAAaL,QAAb,EAnBS,eAoBTF,kGACyEA,gBADzE,uCApBS,eAsBTN,OAAOc,MAAP,CAAcN,QAAd,EAtBS,eAuBTL,eAAe,KAAf,GACE,EADF,mCAGYD,OAHZ,qCAIoBH,OAAOM,WAAP,CAJpB,yCAMeP,eAAaK,UAAb,UAA8BD,OAA9B,CANf,gBAvBS,8BA+BLF,OAAOe,cAAP,CAAsBP,QAAtB,EA/BK,mCAgCWP,OAhCX;AAAA,CAAf","file":"htmlLayout.js","sourcesContent":["/* eslint-disable jsx-a11y/html-has-lang, prefer-template */\nimport type { Element } from 'react';\nimport assetUrl from './assetUrl';\nimport uneval from './uneval';\n\ntype HelmetDataAttributeType = {\n  toString(): string,\n  toComponent(): Element,\n};\n\ntype HelmetDataType = {\n  htmlAttributes: HelmetDataAttributeType,\n  title: HelmetDataAttributeType,\n  base: HelmetDataAttributeType,\n  meta: HelmetDataAttributeType,\n  link: HelmetDataAttributeType,\n  script: HelmetDataAttributeType,\n  style: HelmetDataAttributeType,\n};\n\nexport type LayoutOptionsType = {|\n  layoutBody?: ?Function,\n  version: string,\n  scriptName: string | false,\n  styleName: string | false,\n  initialData?: ?any,\n  polyfillFeatures?: ?string,\n|};\n\nexport default (\n  helmet: HelmetDataType,\n  content: string,\n  {\n    version,\n    scriptName,\n    styleName,\n    initialData,\n    polyfillFeatures = 'default,es6,es7,localStorage,fetch,Intl',\n  },\n): string =>\n  `<!doctype html>\n<html ${helmet.htmlAttributes.toString()}>\n  <head>\n    ${helmet.title.toString()}\n    ${helmet.meta.toString()}\n    ${helmet.link.toString()}\n    ${helmet.base.toString()}\n    <link rel=\"stylesheet\" href=\"${assetUrl(`/${styleName || 'index'}.css`, version)}\" />\n    ${helmet.style.toString()}\n    ${polyfillFeatures &&\n      `<script defer src=\"${`https://polyfill.io/v2/polyfill.min.js?features=${polyfillFeatures}&unknown=polyfill`}\"></script>`}\n    ${helmet.script.toString()}\n    ${scriptName === false\n      ? ''\n      : `<script>\nwindow.VERSION='${version}';\nwindow.__INITIAL_DATA__=${uneval(initialData)};\n</script>\n<script defer src=\"${assetUrl(`/${scriptName}.js`, version)}\"></script>`}\n  </head>\n  <body ${helmet.bodyAttributes.toString()}>\n    <div id=\"react-app\">${content}</div>\n  </body>\n</html>`;\n"]}