{"version":3,"sources":["../../src/module/AlpReduxModuleBrowser.jsx"],"names":["Node","PropTypes","AlpModule","ReducerDictionaryType","AlpReduxModule","props","context","state","loading","setModuleReducers","reducers","result","then","setState","nextProps","children","contextTypes","func","isRequired"],"mappings":";;;;;;;;;;AAAA,SAAcA,IAAL,IAAKA,KAAd,QAA0B,OAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAcC,+CAAd,QAA2C,UAA3C;;;;;;;;;AAEA,oCAAiB,cACf,uBAAU,WAAC,4BAAD,CAAV,CADe,EAEf,uBAAU,WAAV,CAFe,CAAjB;IAKqBC,c;;;AAOnB,0BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,gIACpBD,KADoB,EACbC,OADa;;AAE1B,UAAKC,KAAL,GAAa;AACXC,eAAS,MAAKC,iBAAL,CAAuBJ,MAAMK,QAA7B;AADE,KAAb;AAF0B;AAK3B;;;;sCAEiBA,Q,EAAU;AAAA;;AAC1B,UAAI,CAAC,KAAKJ,OAAL,CAAaG,iBAAlB,EAAqC,OAAO,KAAP,CADX,CACyB;AACnD,UAAME,SAAS,KAAKL,OAAL,CAAaG,iBAAb,CAA+BC,QAA/B,CAAf;AACA,UAAIC,WAAW,KAAf,EAAsB,OAAO,KAAP;AACtBA,aAAOC,IAAP,CAAY,YAAM;AAChB,eAAKC,QAAL,CAAc,EAAEL,SAAS,KAAX,EAAd;AACD,OAFD;AAGA,aAAO,IAAP;AACD;;;8CAEyBM,S,EAAsB;AAAA,2BAAb,gBAAa;;AAAA;;AAC9C,UAAIA,UAAUJ,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QAAtC,EAAgD;AAC9C,aAAKG,QAAL,CAAc;AACZL,mBAAS,KAAKC,iBAAL,CAAuBK,UAAUJ,QAAjC;AADG,SAAd;AAGD;AACF;;;6BAEc;AAAA,iCAAL,WAAK;;AACb,gCAAO,KAAKH,KAAL,CAAWC,OAAX,GAAqB,IAArB,GAA4B,KAAKH,KAAL,CAAWU,QAA9C;AACD;;;;EAlCyCb,S,UAGnCc,Y,GAAe;AACpBP,qBAAmBR,UAAUgB,IAAV,CAAeC;AADd,C;SAHHd,c","file":"AlpReduxModuleBrowser.jsx","sourcesContent":["import { type Node } from 'react';\nimport PropTypes from 'prop-types';\nimport AlpModule from './AlpModule';\nimport type { ReducerDictionaryType } from '../types';\n\ntype PropsType = {|\n  reducers: ?ReducerDictionaryType,\n  children: Node,\n|};\n\nexport default class AlpReduxModule extends AlpModule {\n  props: PropsType;\n\n  static contextTypes = {\n    setModuleReducers: PropTypes.func.isRequired,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: this.setModuleReducers(props.reducers),\n    };\n  }\n\n  setModuleReducers(reducers) {\n    if (!this.context.setModuleReducers) return false; // pre render\n    const result = this.context.setModuleReducers(reducers);\n    if (result === false) return false;\n    result.then(() => {\n      this.setState({ loading: false });\n    });\n    return true;\n  }\n\n  componentWillReceiveProps(nextProps: PropTypes) {\n    if (nextProps.reducers !== this.props.reducers) {\n      this.setState({\n        loading: this.setModuleReducers(nextProps.reducers),\n      });\n    }\n  }\n\n  render(): Node {\n    return this.state.loading ? null : this.props.children;\n  }\n}\n"]}