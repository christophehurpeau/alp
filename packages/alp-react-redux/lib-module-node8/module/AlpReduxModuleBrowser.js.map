{"version":3,"sources":["../../src/module/AlpReduxModuleBrowser.jsx"],"names":["PropTypes","AlpModule","AlpReduxModule","constructor","props","context","state","loading","setModuleReducers","reducers","result","then","setState","componentWillReceiveProps","nextProps","render","children","contextTypes","func","isRequired"],"mappings":";;AAAA,OAA0B,OAA1B;AACA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;IAQqBC,c,qBAAN,cAA6BD,SAA7B,CAAuC;;AAOpDE,cAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAC1B,UAAMD,KAAN,EAAaC,OAAb;AACA,SAAKC,KAAL,GAAa;AACXC,eAAS,KAAKC,iBAAL,CAAuBJ,MAAMK,QAA7B;AADE,KAAb;AAGD;;AAEDD,oBAAkBC,QAAlB,EAA4B;AAC1B,QAAI,CAAC,KAAKJ,OAAL,CAAaG,iBAAlB,EAAqC,OAAO,KAAP,CADX,CACyB;AACnD,UAAME,SAAS,KAAKL,OAAL,CAAaG,iBAAb,CAA+BC,QAA/B,CAAf;AACA,QAAIC,WAAW,KAAf,EAAsB,OAAO,KAAP;AACtBA,WAAOC,IAAP,CAAY,MAAM;AAChB,WAAKC,QAAL,CAAc,EAAEL,SAAS,KAAX,EAAd;AACD,KAFD;AAGA,WAAO,IAAP;AACD;;AAEDM,4BAA0BC,SAA1B,EAAgD;AAC9C,QAAIA,UAAUL,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QAAtC,EAAgD;AAC9C,WAAKG,QAAL,CAAc;AACZL,iBAAS,KAAKC,iBAAL,CAAuBM,UAAUL,QAAjC;AADG,OAAd;AAGD;AACF;;AAEDM,WAAe;AACb,WAAO,KAAKT,KAAL,CAAWC,OAAX,GAAqB,IAArB,GAA4B,KAAKH,KAAL,CAAWY,QAA9C;AACD;AAlCmD,C,SAG7CC,Y,GAAe;AACpBT,qBAAmBR,UAAUkB,IAAV,CAAeC;AADd,C;SAHHjB,c","file":"AlpReduxModuleBrowser.jsx","sourcesContent":["import { type Node } from 'react';\nimport PropTypes from 'prop-types';\nimport AlpModule from './AlpModule';\nimport type { ReducerDictionaryType } from '../types';\n\ntype PropsType = {|\n  reducers: ?ReducerDictionaryType,\n  children: Node,\n|};\n\nexport default class AlpReduxModule extends AlpModule {\n  props: PropsType;\n\n  static contextTypes = {\n    setModuleReducers: PropTypes.func.isRequired,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: this.setModuleReducers(props.reducers),\n    };\n  }\n\n  setModuleReducers(reducers) {\n    if (!this.context.setModuleReducers) return false; // pre render\n    const result = this.context.setModuleReducers(reducers);\n    if (result === false) return false;\n    result.then(() => {\n      this.setState({ loading: false });\n    });\n    return true;\n  }\n\n  componentWillReceiveProps(nextProps: PropTypes) {\n    if (nextProps.reducers !== this.props.reducers) {\n      this.setState({\n        loading: this.setModuleReducers(nextProps.reducers),\n      });\n    }\n  }\n\n  render(): Node {\n    return this.state.loading ? null : this.props.children;\n  }\n}\n"]}