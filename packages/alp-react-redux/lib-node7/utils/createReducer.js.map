{"version":3,"sources":["../../src/utils/createReducer.js"],"names":["createReducer","defaultState","handlers","handlerMap","Map","Object","keys","forEach","key","set","type","undefined","state","action","has","get"],"mappings":";;;;;kBAEwBA,a;AAFxB;;AAEe,SAASA,aAAT,CAAuBC,YAAvB,EAAwDC,QAAxD,EAA2E;AACxF,MAAI,OAAOD,YAAP,KAAwB,QAA5B,EAAsC;AACpCC,eAAWD,YAAX;AACAA,mBAAe,MAAM,IAArB;AACD;;AAED,QAAME,aAAa,IAAIC,GAAJ,EAAnB;AACAC,SAAOC,IAAP,CAAYJ,QAAZ,EAAsBK,OAAtB,CAA8BC,OAAO;AACnC,QAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AAI7BL,iBAAWM,GAAX,CAAeD,IAAIE,IAAnB,EAAyBR,SAASM,GAAT,CAAzB;AACD,KALD,MAKO;AACLL,iBAAWM,GAAX,CAAeD,GAAf,EAAoBN,SAASM,GAAT,CAApB;AACD;AACF,GATD;AAUAN,aAAWS,SAAX;;AAEA,SAAO,CAACC,QAAQX,cAAT,EAAyBY,MAAzB,KAAoC;AACzC,QAAIA,UAAUV,WAAWW,GAAX,CAAeD,OAAOH,IAAtB,CAAd,EAA2C;AACzC,aAAOP,WAAWY,GAAX,CAAeF,OAAOH,IAAtB,EAA4BE,KAA5B,EAAmCC,MAAnC,CAAP;AACD;;AAED,WAAOD,KAAP;AACD,GAND;AAOD","file":"createReducer.js","sourcesContent":["/* global PRODUCTION */\n\nexport default function createReducer(defaultState: Function | Object, handlers: ?Object) {\n  if (typeof defaultState === 'object') {\n    handlers = defaultState;\n    defaultState = () => null;\n  }\n\n  const handlerMap = new Map();\n  Object.keys(handlers).forEach(key => {\n    if (typeof key === 'function') {\n      if (!PRODUCTION && typeof key.type !== 'string') {\n        throw new Error(`Invalid handler key: \"${key.name}\"`);\n      }\n      handlerMap.set(key.type, handlers[key]);\n    } else {\n      handlerMap.set(key, handlers[key]);\n    }\n  });\n  handlers = undefined;\n\n  return (state = defaultState(), action) => {\n    if (action && handlerMap.has(action.type)) {\n      return handlerMap.get(action.type)(state, action);\n    }\n\n    return state;\n  };\n}\n"]}