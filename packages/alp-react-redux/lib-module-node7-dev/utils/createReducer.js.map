{"version":3,"sources":["../../src/utils/createReducer.js"],"names":["createReducer","defaultState","handlers","handlerMap","Map","Object","keys","forEach","key","type","Error","name","set","undefined","state","action","has","get"],"mappings":";AAAA;;AAEA,eAAe,SAASA,aAAT,CAAuBC,YAAvB,EAAwDC,QAAxD,EAA2E;AAAA,0BAAxC,QAAE,YAAF,EAAa,UAAb,CAAwC;;AAAA,sBAAX,WAAG,UAAH,CAAW;;AAAA;AAAA;;AACxF,MAAI,OAAOD,YAAP,KAAwB,QAA5B,EAAsC;AACpCC,oCAAWD,YAAX;AACAA,4CAAe,MAAM,IAArB;AACD;;AAED,QAAME,aAAa,IAAIC,GAAJ,EAAnB;AACAC,SAAOC,IAAP,CAAYJ,QAAZ,EAAsBK,OAAtB,CAA+BC,GAAD,IAAS;AACrC,QAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AAC7B,UAAmB,OAAOA,IAAIC,IAAX,KAAoB,QAAvC,EAAiD;AAC/C,cAAM,IAAIC,KAAJ,CAAW,yBAAwBF,IAAIG,IAAK,GAA5C,CAAN;AACD;AACDR,iBAAWS,GAAX,CAAeJ,IAAIC,IAAnB,EAAyBP,SAASM,GAAT,CAAzB;AACD,KALD,MAKO;AACLL,iBAAWS,GAAX,CAAeJ,GAAf,EAAoBN,SAASM,GAAT,CAApB;AACD;AACF,GATD;AAUAN,kCAAWW,SAAX;;AAEA,SAAO,CAACC,QAAQb,cAAT,EAAyBc,MAAzB,KAAoC;AACzC,QAAIA,UAAUZ,WAAWa,GAAX,CAAeD,OAAON,IAAtB,CAAd,EAA2C;AACzC,aAAON,WAAWc,GAAX,CAAeF,OAAON,IAAtB,EAA4BK,KAA5B,EAAmCC,MAAnC,CAAP;AACD;;AAED,WAAOD,KAAP;AACD,GAND;AAOD","file":"createReducer.js","sourcesContent":["/* global PRODUCTION */\n\nexport default function createReducer(defaultState: Function | Object, handlers: ?Object) {\n  if (typeof defaultState === 'object') {\n    handlers = defaultState;\n    defaultState = () => null;\n  }\n\n  const handlerMap = new Map();\n  Object.keys(handlers).forEach((key) => {\n    if (typeof key === 'function') {\n      if (!PRODUCTION && typeof key.type !== 'string') {\n        throw new Error(`Invalid handler key: \"${key.name}\"`);\n      }\n      handlerMap.set(key.type, handlers[key]);\n    } else {\n      handlerMap.set(key, handlers[key]);\n    }\n  });\n  handlers = undefined;\n\n  return (state = defaultState(), action) => {\n    if (action && handlerMap.has(action.type)) {\n      return handlerMap.get(action.type)(state, action);\n    }\n\n    return state;\n  };\n}\n"]}