{"version":3,"sources":["../src/AlpReactApp.jsx"],"names":["Helmet","App","DefaultApp","children","context","moduleDescriptor","scriptName","initialData","initialBrowserContext","version","config","get","moduleIdentifier","identifier","Error"],"mappings":";AAAA;AACA,SAASA,MAAT,EAAiBC,OAAOC,UAAxB;;;AAaA,gBAAe,UAOiB;AAAA,MAN9BC,QAM8B,QAN9BA,QAM8B;AAAA,MAL9BC,OAK8B,QAL9BA,OAK8B;AAAA,MAJ9BC,gBAI8B,QAJ9BA,gBAI8B;AAAA,MAH9BC,UAG8B,QAH9BA,UAG8B;AAAA,MAF9BC,WAE8B,QAF9BA,WAE8B;AAAA,MAD9BC,qBAC8B,QAD9BA,qBAC8B;;AAC9B,MAAMC,UAAkBL,QAAQM,MAAR,CAAeC,GAAf,CAAmB,SAAnB,CAAxB;AACA,MAAMC,mBAA4BP,oBAAoBA,iBAAiBQ,UAAvE;AACA,MAAI,CAACJ,OAAL,EAAc,MAAM,IAAIK,KAAJ,CAAU,iBAAV,CAAN;;AAEd,SACE;AAAC,cAAD;AAAA,MAAY,SAASV,OAArB;AACE;AAAA;AAAA,QAAK,WAAU,WAAf;AACa,UADb;AAyBGD;AAzBH;AADF,GADF;AA+BD,CA3CD","file":"AlpReactApp.jsx","sourcesContent":["/* eslint-disable prefer-template */\nimport { Helmet, App as DefaultApp } from 'fody/src';\nimport uneval from './uneval';\nimport assetUrl from './helmet/assetUrl';\nimport type { ReactNodeType, ModuleDescriptorType } from './types';\n\ntype PropsType = {\n  children: ReactNodeType,\n  context: Object,\n  moduleDescriptor: ModuleDescriptorType,\n  scriptName: ?string,\n  initialData: ?Object,\n};\n\nexport default ({\n  children,\n  context,\n  moduleDescriptor,\n  scriptName,\n  initialData,\n  initialBrowserContext,\n}: PropsType): ReactNodeType => {\n  const version: string = context.config.get('version');\n  const moduleIdentifier: ?string = moduleDescriptor && moduleDescriptor.identifier;\n  if (!version) throw new Error('Invalid version');\n\n  return (\n    <DefaultApp context={context}>\n      <div className=\"react-app\">\n        {BROWSER ? null : (\n          <Helmet\n            meta={[\n              { charset: 'utf-8' },\n              { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n            ]}\n            link={[\n              { rel: 'stylesheet', href: assetUrl('/index.css', version) },\n              { rel: 'stylesheet', href: assetUrl('/styles.css', version) },\n            ]}\n            script={[\n              { src: 'https://polyfill.io/v2/polyfill.min.js?features=default,es6,localStorage,fetch,Intl&unknown=polyfill' },\n              { innerHTML: (\n                (`${moduleIdentifier ? `window.MODULE_IDENTIFIER='${moduleIdentifier}';` : ''}`)\n                + `window.VERSION='${version}';`\n                + `window.initialData=${uneval(initialData)};`\n                + (!initialBrowserContext ? '' : (\n                    `window.initialBrowserContext=${uneval(initialBrowserContext)};`\n                ))\n              ) },\n              { defer: '', src: assetUrl(`/${scriptName}.js`, version) },\n            ].filter(Boolean)}\n          />\n        )}\n        {children}\n      </div>\n    </DefaultApp>\n  );\n};\n"]}