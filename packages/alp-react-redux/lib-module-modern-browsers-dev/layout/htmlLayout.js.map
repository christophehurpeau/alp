{"version":3,"sources":["../../src/layout/htmlLayout.js"],"names":["assetUrl","uneval","ReactElementType","wrapContent","content","helmet","layoutBody","version","moduleIdentifier","scriptName","styleName","initialData","initialBrowserContext","polyfillFeatures","htmlAttributes","toString","title","meta","link","base","style","script","bodyAttributes"],"mappings":"AAAA;AACA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAcC,qCAAd,QAAsC,UAAtC;;;;;;AAEA,kEAA+B,SAC7B,2CAAY,UAAZ,GAD6B,EAE7B,8CAAe,uBAAf,GAF6B,CAA/B;AAKA,gDAAsB,SACpB,6BAAgB,uBAAhB,CADoB,EAEpB,oBAAO,uBAAP,CAFoB,EAGpB,mBAAM,uBAAN,CAHoB,EAIpB,mBAAM,uBAAN,CAJoB,EAKpB,mBAAM,uBAAN,CALoB,EAMpB,qBAAQ,uBAAR,CANoB,EAOpB,oBAAO,uBAAP,CAPoB,CAAtB;;;AAUA,OAAO,sDAAyB,cAC9B,yBAAY,WAAC,YAAD,CAAZ,CAD8B,EAE9B,sBAAS,UAAT,CAF8B,EAG9B,+BAAkB,WAAC,UAAD,CAAlB,CAH8B,EAI9B,yBAAY,oBAAS,gBAAT,CAAZ,CAJ8B,EAK9B,wBAAW,WAAC,UAAD,CAAX,CAL8B,EAM9B,0BAAa,WAAC,OAAD,CAAb,CAN8B,EAO9B,oCAAuB,WAAC,OAAD,CAAvB,CAP8B,EAQ9B,+BAAkB,WAAC,UAAD,CAAlB,CAR8B,CAAzB;;AAWP,MAAMC,cAAc,SAAdA,WAAc;AAAA,SAAY,uBAAsBC,OAAQ,QAA1C;AAAA,CAApB;;AAEA,gBAAe,oBAACC,MAAD,EAAyBD,OAAzB,EAA0C;AACvDE,YADuD;AAEvDC,SAFuD;AAGvDC,kBAHuD;AAIvDC,YAJuD;AAKvDC,WALuD;AAMvDC,aANuD;AAOvDC,uBAPuD;AAQvDC,qBAAmB;AARoC,CAA1C;AAAA,qBAAgC,UAAhC;;AAAA,+BASX,UATW;;AAAA,oBAAO,cAAP;AAAA;AAAA,4BAUZ;QACKR,OAAOS,cAAP,CAAsBC,QAAtB,EAAiC;;MAEnCV,OAAOW,KAAP,CAAaD,QAAb,EAAwB;MACxBV,OAAOY,IAAP,CAAYF,QAAZ,EAAuB;MACvBV,OAAOa,IAAP,CAAYH,QAAZ,EAAuB;MACvBV,OAAOc,IAAP,CAAYJ,QAAZ,EAAuB;mCACMf,SAAU,IAAGU,aAAa,OAAQ,MAAlC,EAAyCH,OAAzC,CAAkD;MAC/EF,OAAOe,KAAP,CAAaL,QAAb,EAAwB;MACxBF,oBAAqB,sBAAsB,mDAAkDA,gBAAiB,mBAAmB,aAAa;MAC9IR,OAAOgB,MAAP,CAAcN,QAAd,EAAyB;MACzBN,eAAe,KAAf,GAAuB,IAAvB,GACC,WACE,GAAED,mBAAoB,6BAA4BA,gBAAiB,IAAjE,GAAuE,EAAG,EAA7E,GACG,mBAAkBD,OAAQ,IAD7B,GAEG,sBAAqBN,OAAOU,WAAP,CAAoB,GAF5C,IAGG,CAACC,qBAAD,GAAyB,EAAzB,GACE,gCAA+BX,OAAOW,qBAAP,CAA8B,GAJlE,CAMD,WACD;MACAH,eAAe,KAAf,GAAuB,IAAvB,GAA+B,sBAAqBT,SAAU,IAAGS,UAAW,KAAxB,EAA8BF,OAA9B,CAAuC,aAAa;;UAEpGF,OAAOiB,cAAP,CAAsBP,QAAtB,EAAiC;MACrCT,aAAaA,WAAWH,YAAYC,OAAZ,CAAX,CAAb,GAAgDD,YAAYC,OAAZ,CAAqB;;QAlC5D;AAAA,CAAf","file":"htmlLayout.js","sourcesContent":["/* eslint-disable jsx-a11y/html-has-lang, prefer-template */\nimport assetUrl from './assetUrl';\nimport uneval from './uneval';\nimport type { ReactElementType } from '../types';\n\ntype HelmetDataAttributeType = {\n  toString(): string,\n  toComponent(): ReactElementType,\n};\n\ntype HelmetDataType = {\n  htmlAttributes: HelmetDataAttributeType,\n  title: HelmetDataAttributeType,\n  base: HelmetDataAttributeType,\n  meta: HelmetDataAttributeType,\n  link: HelmetDataAttributeType,\n  script: HelmetDataAttributeType,\n  style: HelmetDataAttributeType,\n};\n\nexport type LayoutOptionsType = {|\n  layoutBody: ?Function,\n  version: string,\n  moduleIdentifier: ?string,\n  scriptName: string | false,\n  styleName: ?string,\n  initialData: ?any,\n  initialBrowserContext: ?any,\n  polyfillFeatures: ?string,\n|};\n\nconst wrapContent = content => `<div id=\"react-app\">${content}</div>`;\n\nexport default (helmet: HelmetDataType, content: string, {\n  layoutBody,\n  version,\n  moduleIdentifier,\n  scriptName,\n  styleName,\n  initialData,\n  initialBrowserContext,\n  polyfillFeatures = 'default,es6,es7,localStorage,fetch,Intl',\n}): string => (\n  `<!doctype html>\n<html ${helmet.htmlAttributes.toString()}>\n  <head>\n    ${helmet.title.toString()}\n    ${helmet.meta.toString()}\n    ${helmet.link.toString()}\n    ${helmet.base.toString()}\n    <link rel=\"stylesheet\" href=\"${assetUrl(`/${styleName || 'index'}.css`, version)}\" />\n    ${helmet.style.toString()}\n    ${polyfillFeatures && `<script defer src=\"${`https://polyfill.io/v2/polyfill.min.js?features=${polyfillFeatures}&unknown=polyfill`}\"></script>`}\n    ${helmet.script.toString()}\n    ${scriptName === false ? null : (\n      `<script>${\n        `${moduleIdentifier ? `window.MODULE_IDENTIFIER='${moduleIdentifier}';` : ''}`\n        + `window.VERSION='${version}';`\n        + `window.initialData=${uneval(initialData)};`\n        + (!initialBrowserContext ? '' : (\n            `window.initialBrowserContext=${uneval(initialBrowserContext)};`\n        ))\n      }</script>`\n    )}\n    ${scriptName === false ? null : `<script defer src=\"${assetUrl(`/${scriptName}.js`, version)}\"></script>`}\n  </head>\n  <body ${helmet.bodyAttributes.toString()}>\n    ${layoutBody ? layoutBody(wrapContent(content)) : wrapContent(content)}\n  </body>\n</html>`\n);\n"]}