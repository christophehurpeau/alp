{"version":3,"sources":["../../src/module/AlpReduxModuleBrowser.jsx"],"names":["PropTypes","AlpModule","ReactNodeType","ReactElementType","AlpReduxModule","constructor","props","context","state","loading","setModuleReducers","reducers","result","then","setState","componentWillReceiveProps","nextProps","render","children","contextTypes","func","isRequired"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAcC,+BAAd,EAA6BC,qCAA7B,QAAqD,UAArD;;;;;;;;;AAEA,sCAAiB,cACf,uBAAU,SAAE,iBAAC,UAAD,EAAU,OAAV,CAAF,CAAV,CADe,EAEf,uBAAU,oBAAV,CAFe,CAAjB;IAKqBC,c,qBAAN,cAA6BH,SAA7B,CAAuC;;AAOpDI,cAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAC1B,UAAMD,KAAN,EAAaC,OAAb,CAD0B,EAE1B,KAAKC,KAAL,GAAa;AACXC,eAAS,KAAKC,iBAAL,CAAuBJ,MAAMK,QAA7B;AADE,KAFa;AAK3B;;AAEDD,oBAAkBC,QAAlB,EAA4B;AAAA;;AAC1B,QAAI,CAAC,KAAKJ,OAAL,CAAaG,iBAAlB,EAAqC,OAAO,KAAP,CADX,CACyB;AACnD,UAAME,SAAS,KAAKL,OAAL,CAAaG,iBAAb,CAA+BC,QAA/B,CAAf;AAF0B,WAGtBC,WAAW,KAHW,KAI1BA,OAAOC,IAAP,CAAY,YAAM;AAChB,YAAKC,QAAL,CAAc,EAAEL,SAAS,KAAX,EAAd,CADgB;AAEjB,KAFD,CAJ0B,EAOnB,IAPmB;AAQ3B;;AAEDM,4BAA0BC,SAA1B,EAAgD;AAAA,yBAAb,gBAAa;;AAAA,4DAC1CA,UAAUL,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QADQ,IAE5C,KAAKG,QAAL,CAAc;AACZL,eAAS,KAAKC,iBAAL,CAAuBM,UAAUL,QAAjC;AADG,KAAd,CAF4C;AAM/C;;AAEDM,WAAkC;AAAA,iCAAxB,iCAAmB,QAAnB,CAAwB;;AAChC,8BAAO,KAAKT,KAAL,CAAWC,OAAX,GAAqB,IAArB,GAA4B,KAAKH,KAAL,CAAWY,QAA9C;AACD;AAlCmD,C,SAG7CC,Y,GAAe;AACpBT,qBAAmBV,UAAUoB,IAAV,CAAeC;AADd,C;SAHHjB,c","file":"AlpReduxModuleBrowser.jsx","sourcesContent":["import PropTypes from 'prop-types';\nimport AlpModule from './AlpModule';\nimport type { ReactNodeType, ReactElementType } from '../types';\n\ntype PropsType = {|\n  reducers: { [string]: any },\n  children: ReactNodeType,\n|};\n\nexport default class AlpReduxModule extends AlpModule {\n  props: PropsType;\n\n  static contextTypes = {\n    setModuleReducers: PropTypes.func.isRequired,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: this.setModuleReducers(props.reducers),\n    };\n  }\n\n  setModuleReducers(reducers) {\n    if (!this.context.setModuleReducers) return false; // pre render\n    const result = this.context.setModuleReducers(reducers);\n    if (result === false) return false;\n    result.then(() => {\n      this.setState({ loading: false });\n    });\n    return true;\n  }\n\n  componentWillReceiveProps(nextProps: PropTypes) {\n    if (nextProps.reducers !== this.props.reducers) {\n      this.setState({\n        loading: this.setModuleReducers(nextProps.reducers),\n      });\n    }\n  }\n\n  render(): ReactElementType | null {\n    return this.state.loading ? null : this.props.children;\n  }\n}\n"]}