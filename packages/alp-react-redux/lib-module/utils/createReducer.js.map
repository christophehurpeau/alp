{"version":3,"sources":["../../src/utils/createReducer.js"],"names":["createReducer","defaultState","handlers","handlerMap","Map","Object","keys","forEach","key","set","type","state","action","has","get"],"mappings":";;AAAA;;AAEA,eAAe,SAASA,aAAT,CAAuBC,YAAvB,EAAwDC,QAAxD,EAA2E;AACpF,UAAOD,YAAP,yCAAOA,YAAP,OAAwB,QAD4D,KAEtFC,WAAWD,YAF2E,EAGtFA,eAAe;AAAA,WAAM,IAAN;AAAA,GAHuE;;;AAMxF,MAAME,aAAa,IAAIC,GAAJ,EAAnB;;;AAaA,SAZAC,OAAOC,IAAP,CAAYJ,QAAZ,EAAsBK,OAAtB,CAA8B,eAAO;AAC/B,WAAOC,GAAP,KAAe,UADgB,GAKjCL,WAAWM,GAAX,CAAeD,IAAIE,IAAnB,EAAyBR,SAASM,GAAT,CAAzB,CALiC,GAOjCL,WAAWM,GAAX,CAAeD,GAAf,EAAoBN,SAASM,GAAT,CAApB,CAPiC;AASpC,GATD,CAYA,EAFAN,iBAEA,EAAO,YAAoC;AAAA,QAAnCS,KAAmC,oEAA3BV,cAA2B;AAAA,QAAXW,MAAW;AAAA,WACrCA,UAAUT,WAAWU,GAAX,CAAeD,OAAOF,IAAtB,CAD2B,GAEhCP,WAAWW,GAAX,CAAeF,OAAOF,IAAtB,EAA4BC,KAA5B,EAAmCC,MAAnC,CAFgC,GAKlCD,KALkC;AAM1C,GAND;AAOD","file":"createReducer.js","sourcesContent":["/* global PRODUCTION */\n\nexport default function createReducer(defaultState: Function | Object, handlers: ?Object) {\n  if (typeof defaultState === 'object') {\n    handlers = defaultState;\n    defaultState = () => null;\n  }\n\n  const handlerMap = new Map();\n  Object.keys(handlers).forEach(key => {\n    if (typeof key === 'function') {\n      if (!PRODUCTION && typeof key.type !== 'string') {\n        throw new Error(`Invalid handler key: \"${key.name}\"`);\n      }\n      handlerMap.set(key.type, handlers[key]);\n    } else {\n      handlerMap.set(key, handlers[key]);\n    }\n  });\n  handlers = undefined;\n\n  return (state = defaultState(), action) => {\n    if (action && handlerMap.has(action.type)) {\n      return handlerMap.get(action.type)(state, action);\n    }\n\n    return state;\n  };\n}\n"]}