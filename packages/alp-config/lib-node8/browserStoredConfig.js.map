{"version":3,"sources":["../src/browserStoredConfig.js"],"names":["getVersion","has","get","save","set","clear","map","config","localStorage","getItem","Map","forEach","value","key","setItem","version"],"mappings":";;;;;QAgBgBA,U,GAAAA,U;QAIAC,G,GAAAA,G;QAIAC,G,GAAAA,G;QAIAC,I,GAAAA,I;QAIAC,G,GAAAA,G;QAKAC,K,GAAAA,K;;AApChB;;;;AACA;;;;AACA;;;;;;AAEA,MAAMC,MAAM,CAAC,MAAM;AACjB,QAAMC,SAASC,aAAaC,OAAb,CAAqB,aAArB,CAAf;AADiB,SAEbF,WAAW,IAFE,GAGR,IAAIG,GAAJ,EAHQ,GAMV,oCAAUH,MAAV,CANU;AAOlB,CAPW,GAAZ,C,CALA;AAcAD,IAAIK,OAAJ,CAAYC,SAAS,4BAAWA,KAAX,CAArB,C;AAEO,SAASZ,UAAT,GAAsB;AAC3B,SAAOM,IAAIJ,GAAJ,CAAQ,SAAR,CAAP;AACD;;AAEM,SAASD,GAAT,CAAaY,GAAb,EAAkB;AACvB,SAAOP,IAAIL,GAAJ,CAAQY,GAAR,CAAP;AACD;;AAEM,SAASX,GAAT,CAAaW,GAAb,EAAkB;AACvB,SAAOP,IAAIJ,GAAJ,CAAQW,GAAR,CAAP;AACD;;AAEM,SAASV,IAAT,GAAgB;AACrBK,eAAaM,OAAb,CAAqB,aAArB,EAAoC,6BAAUR,GAAV,CAApC,CADqB;AAEtB;;AAEM,SAASF,GAAT,CAAaS,GAAb,EAAkBD,KAAlB,EAAyB;AAC9BN,MAAIF,GAAJ,CAAQS,GAAR,EAAaD,KAAb,CAD8B,EAE9BT,MAF8B;AAG/B;;AAEM,SAASE,KAAT,CAAeU,OAAf,EAAwB;AAC7BT,MAAID,KAAJ,EAD6B,EAE7BC,IAAIF,GAAJ,CAAQ,SAAR,EAAmBW,OAAnB,CAF6B,EAG7BZ,MAH6B;AAI9B","file":"browserStoredConfig.js","sourcesContent":["/* global localStorage */\nimport deepFreeze from 'deep-freeze-es6';\nimport parseJSON from 'parse-json-object-as-map';\nimport stringify from 'stringify-json';\n\nconst map = (() => {\n  const config = localStorage.getItem('ibex-config');\n  if (config === null) {\n    return new Map();\n  }\n\n  return parseJSON(config);\n})();\n\nmap.forEach(value => deepFreeze(value));\n\nexport function getVersion() {\n  return map.get('version');\n}\n\nexport function has(key) {\n  return map.has(key);\n}\n\nexport function get(key) {\n  return map.get(key);\n}\n\nexport function save() {\n  localStorage.setItem('ibex-config', stringify(map));\n}\n\nexport function set(key, value) {\n  map.set(key, value);\n  save();\n}\n\nexport function clear(version) {\n  map.clear();\n  map.set('version', version);\n  save();\n}\n"]}