{"version":3,"file":"index-node10.es.js","sources":["../src/useT.ts","../src/useTs.ts","../src/index.tsx"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface Params {\n  [key: string]: any;\n}\n\ninterface AlpContext {\n  t: (id: string, params?: Params) => string;\n}\n\nexport default function useT(\n  id: string,\n  params?: { [key: string]: any },\n  deps?: ReadonlyArray<any>,\n): string {\n  const ctx: AlpContext = useContext(ReactAlpContext) as AlpContext;\n  return useMemo(\n    () => {\n      return ctx.t(id, params);\n    },\n    !deps ? [id] : [id, ...deps],\n  );\n}\n","import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface AlpContext {\n  t: (id: string, params?: { [key: string]: any }) => string;\n}\n\n// for params: 2 solutions: params that are send to all or mapped params.\n// in both case it will be more difficult to use memo deps\nexport default function useTs(ids: string[]): string[] {\n  const ctx: AlpContext = useContext(ReactAlpContext) as AlpContext;\n  return useMemo(() => {\n    return ids.map((id) => ctx.t(id));\n  }, [ids.join(',')]);\n}\n","import React from 'react';\nimport useT from './useT';\nimport useTs from './useTs';\n\ninterface Props {\n  id: string;\n  children?: never;\n  [propName: string]: any;\n}\n\nfunction T({ id, ...props }: Props): React.ReactElement {\n  const t = useT(id, props, Object.values(props));\n  return (t as unknown) as React.ReactElement;\n}\n\nexport { T, useT, useTs };\n"],"names":["useT","id","params","deps","ctx","useContext","ReactAlpContext","useMemo","t","useTs","ids","map","join","T","props","Object","values"],"mappings":";;;AAWe,SAASA,IAAT,CACbC,EADa,EAEbC,MAFa,EAGbC,IAHa,EAIL;QACFC,GAAe,GAAGC,UAAU,CAACC,eAAD,CAAlC;SACOC,OAAO,CACZ,MAAM;WACGH,GAAG,CAACI,CAAJ,CAAMP,EAAN,EAAUC,MAAV,CAAP;GAFU,EAIZ,CAACC,IAAD,GAAQ,CAACF,EAAD,CAAR,GAAe,CAACA,EAAD,EAAK,GAAGE,IAAR,CAJH,CAAd;;;ACVF;;AAEA,AAAe,SAASM,KAAT,CAAeC,GAAf,EAAwC;QAC/CN,GAAe,GAAGC,UAAU,CAACC,eAAD,CAAlC;SACOC,OAAO,CAAC,MAAM;WACZG,GAAG,CAACC,GAAJ,CAASV,EAAD,IAAQG,GAAG,CAACI,CAAJ,CAAMP,EAAN,CAAhB,CAAP;GADY,EAEX,CAACS,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAD,CAFW,CAAd;;;ACDF,SAASC,CAAT,CAAW;EAAEZ,EAAF;KAASa;CAApB,EAAwD;QAChDN,CAAC,GAAGR,IAAI,CAACC,EAAD,EAAKa,KAAL,EAAYC,MAAM,CAACC,MAAP,CAAcF,KAAd,CAAZ,CAAd;SACQN,CAAR;;;;;"}