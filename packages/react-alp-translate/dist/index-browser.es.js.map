{"version":3,"file":"index-browser.es.js","sources":["../src/useT.ts","../src/useTs.ts","../src/index.tsx"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ntype Params = Record<string, any>;\n\ndeclare module 'alp-types' {\n  export interface Context {\n    t: (id: string, params?: Params) => string;\n  }\n}\n\nfunction useT(id: string): string;\nfunction useT(id: string, params: Params, deps: readonly any[]): string;\nfunction useT(id: string, params?: Params, deps?: readonly any[]): string {\n  const ctx = useContext(ReactAlpContext);\n  return useMemo(\n    () => {\n      return ctx.t(id, params);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps, @typescript-eslint/no-unsafe-assignment\n    !deps ? [id] : [id, ...deps],\n  );\n}\n\nexport default useT;\n","import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface AlpContext {\n  t: (id: string, params?: Record<string, any>) => string;\n}\n\n// for params: 2 solutions: params that are send to all or mapped params.\n// in both case it will be more difficult to use memo deps\nexport default function useTs(ids: string[]): string[] {\n  const ctx: AlpContext = useContext(ReactAlpContext);\n  return useMemo(() => {\n    return ids.map((id) => ctx.t(id));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ids.join(',')]);\n}\n","import type React from 'react';\nimport useT from './useT';\n\ninterface Props {\n  id: string;\n  children?: never;\n  [propName: string]: any;\n}\n\nfunction T({ id, ...props }: Props): React.ReactElement {\n  const t = useT(id, props, Object.values(props));\n  return t as unknown as React.ReactElement;\n}\n\nexport { T };\n\nexport { default as useTs } from './useTs';\nexport { default as useT } from './useT';\n"],"names":["useT","id","params","deps","ctx","useContext","ReactAlpContext","useMemo","t","useTs","ids","map","join","T","props","Object","values"],"mappings":";;;;AAaA,SAASA,IAAI,CAACC,EAAU,EAAEC,MAAe,EAAEC,IAAqB,EAAU;AACxE,EAAA,IAAMC,GAAG,GAAGC,UAAU,CAACC,eAAe,CAAC,CAAA;EACvC,OAAOC,OAAO,CACZ,YAAM;AACJ,IAAA,OAAOH,GAAG,CAACI,CAAC,CAACP,EAAE,EAAEC,MAAM,CAAC,CAAA;GACzB;AACD;EACA,CAACC,IAAI,GAAG,CAACF,EAAE,CAAC,IAAIA,EAAE,CAAA,CAAA,MAAA,CAAKE,IAAI,CAAC,CAC7B,CAAA;AACH;;ACfA;AACA;AACe,SAASM,KAAK,CAACC,GAAa,EAAY;AACrD,EAAA,IAAMN,GAAe,GAAGC,UAAU,CAACC,eAAe,CAAC,CAAA;EACnD,OAAOC,OAAO,CAAC,YAAM;AACnB,IAAA,OAAOG,GAAG,CAACC,GAAG,CAAC,UAACV,EAAE,EAAA;AAAA,MAAA,OAAKG,GAAG,CAACI,CAAC,CAACP,EAAE,CAAC,CAAA;KAAC,CAAA,CAAA;AACjC;GACD,EAAE,CAACS,GAAG,CAACE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;AACrB;;;ACNA,SAASC,CAAC,CAA8C,IAAA,EAAA;EAAA,IAA3CZ,EAAE,QAAFA,EAAE;IAAKa,KAAK,GAAA,6BAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;AACvB,EAAA,IAAMN,CAAC,GAAGR,IAAI,CAACC,EAAE,EAAEa,KAAK,EAAEC,MAAM,CAACC,MAAM,CAACF,KAAK,CAAC,CAAC,CAAA;AAC/C,EAAA,OAAON,CAAC,CAAA;AACV;;;;"}