{"version":3,"file":"index-browser.es.js","sources":["../src/useT.ts","../src/useTs.ts","../src/index.tsx"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ntype Params = Record<string, any>;\n\ndeclare module 'alp-types' {\n  export interface Context {\n    t: (id: string, params?: Params) => string;\n  }\n}\n\nfunction useT(id: string): string;\nfunction useT(id: string, params: Params, deps: readonly any[]): string;\nfunction useT(id: string, params?: Params, deps?: readonly any[]): string {\n  const ctx = useContext(ReactAlpContext);\n  return useMemo(\n    () => {\n      return ctx.t(id, params);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps, @typescript-eslint/no-unsafe-assignment\n    !deps ? [id] : [id, ...deps],\n  );\n}\n\nexport default useT;\n","import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface AlpContext {\n  t: (id: string, params?: Record<string, any>) => string;\n}\n\n// for params: 2 solutions: params that are send to all or mapped params.\n// in both case it will be more difficult to use memo deps\nexport default function useTs(ids: string[]): string[] {\n  const ctx: AlpContext = useContext(ReactAlpContext);\n  return useMemo(() => {\n    return ids.map((id) => ctx.t(id));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ids.join(',')]);\n}\n","import type React from 'react';\nimport useT from './useT';\n\ninterface Props {\n  id: string;\n  children?: never;\n  [propName: string]: any;\n}\n\nfunction T({ id, ...props }: Props): React.ReactElement {\n  const t = useT(id, props, Object.values(props));\n  return t as unknown as React.ReactElement;\n}\n\nexport { T };\n\nexport { default as useTs } from './useTs';\nexport { default as useT } from './useT';\n"],"names":["useT","id","params","deps","ctx","useContext","ReactAlpContext","useMemo","t","useTs","ids","map","join","T","props","Object","values"],"mappings":";;;;AAaA,SAASA,IAAT,CAAcC,EAAd,EAA0BC,MAA1B,EAA2CC,IAA3C,EAA0E;AACxE,MAAMC,GAAG,GAAGC,UAAU,CAACC,eAAD,CAAtB;AACA,SAAOC,OAAO,CACZ,YAAM;AACJ,WAAOH,GAAG,CAACI,CAAJ,CAAMP,EAAN,EAAUC,MAAV,CAAP;AACD,GAHW;AAKZ,GAACC,IAAD,GAAQ,CAACF,EAAD,CAAR,IAAgBA,EAAhB,SAAuBE,IAAvB,CALY,CAAd;AAOD;;ACfD;AACA;AACe,SAASM,KAAT,CAAeC,GAAf,EAAwC;AACrD,MAAMN,GAAe,GAAGC,UAAU,CAACC,eAAD,CAAlC;AACA,SAAOC,OAAO,CAAC,YAAM;AACnB,WAAOG,GAAG,CAACC,GAAJ,CAAQ,UAACV,EAAD;AAAA,aAAQG,GAAG,CAACI,CAAJ,CAAMP,EAAN,CAAR;AAAA,KAAR,CAAP,CADmB;AAGpB,GAHa,EAGX,CAACS,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAD,CAHW,CAAd;AAID;;;;ACND,SAASC,CAAT,OAAwD;AAAA,MAA3CZ,EAA2C,QAA3CA,EAA2C;AAAA,MAApCa,KAAoC;;AACtD,MAAMN,CAAC,GAAGR,IAAI,CAACC,EAAD,EAAKa,KAAL,EAAYC,MAAM,CAACC,MAAP,CAAcF,KAAd,CAAZ,CAAd;AACA,SAAON,CAAP;AACD;;;;"}