{"version":3,"file":"index-node10-dev.es.js","sources":["../src/useT.ts","../src/useTs.ts","../src/index.tsx"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface Params {\n  [key: string]: any;\n}\n\ndeclare module 'alp-types' {\n  export interface Context {\n    t: (id: string, params?: Params) => string;\n  }\n}\n\nfunction useT(id: string): string;\nfunction useT(id: string, params: Params, deps: readonly any[]): string;\nfunction useT(id: string, params?: Params, deps?: readonly any[]): string {\n  const ctx = useContext(ReactAlpContext);\n  return useMemo(\n    () => {\n      return ctx.t(id, params);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    !deps ? [id] : [id, ...deps],\n  );\n}\n\nexport default useT;\n","import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface AlpContext {\n  t: (id: string, params?: { [key: string]: any }) => string;\n}\n\n// for params: 2 solutions: params that are send to all or mapped params.\n// in both case it will be more difficult to use memo deps\nexport default function useTs(ids: string[]): string[] {\n  const ctx: AlpContext = useContext(ReactAlpContext);\n  return useMemo(() => {\n    return ids.map((id) => ctx.t(id));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ids.join(',')]);\n}\n","import React from 'react';\nimport useT from './useT';\nimport useTs from './useTs';\n\ninterface Props {\n  id: string;\n  children?: never;\n  [propName: string]: any;\n}\n\nfunction T({ id, ...props }: Props): React.ReactElement {\n  const t = useT(id, props, Object.values(props));\n  return (t as unknown) as React.ReactElement;\n}\n\nexport { T, useT, useTs };\n"],"names":["useT","id","params","deps","ctx","useContext","ReactAlpContext","useMemo","t","useTs","ids","map","join","T","props","Object","values"],"mappings":";;;AAeA,SAASA,IAAT,CAAcC,EAAd,EAA0BC,MAA1B,EAA2CC,IAA3C,EAA0E;AACxE,QAAMC,GAAG,GAAGC,UAAU,CAACC,eAAD,CAAtB;AACA,SAAOC,OAAO,CACZ,MAAM;AACJ,WAAOH,GAAG,CAACI,CAAJ,CAAMP,EAAN,EAAUC,MAAV,CAAP;AACD,GAHW;AAKZ,GAACC,IAAD,GAAQ,CAACF,EAAD,CAAR,GAAe,CAACA,EAAD,EAAK,GAAGE,IAAR,CALH,CAAd;AAOD;;ACjBD;AACA;AACA,AAAe,SAASM,KAAT,CAAeC,GAAf,EAAwC;AACrD,QAAMN,GAAe,GAAGC,UAAU,CAACC,eAAD,CAAlC;AACA,SAAOC,OAAO,CAAC,MAAM;AACnB,WAAOG,GAAG,CAACC,GAAJ,CAASV,EAAD,IAAQG,GAAG,CAACI,CAAJ,CAAMP,EAAN,CAAhB,CAAP,CADmB;AAGpB,GAHa,EAGX,CAACS,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAD,CAHW,CAAd;AAID;;ACLD,SAASC,CAAT,CAAW;AAAEZ,EAAAA,EAAF;AAAM,KAAGa;AAAT,CAAX,EAAwD;AACtD,QAAMN,CAAC,GAAGR,IAAI,CAACC,EAAD,EAAKa,KAAL,EAAYC,MAAM,CAACC,MAAP,CAAcF,KAAd,CAAZ,CAAd;AACA,SAAQN,CAAR;AACD;;;;"}