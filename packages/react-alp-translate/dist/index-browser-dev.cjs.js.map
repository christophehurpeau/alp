{"version":3,"file":"index-browser-dev.cjs.js","sources":["../src/useT.ts","../src/useTs.ts","../src/index.tsx"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface Params {\n  [key: string]: any;\n}\n\ninterface AlpContext {\n  t: (id: string, params?: Params) => string;\n}\n\nexport default function useT(\n  id: string,\n  params?: { [key: string]: any },\n  deps?: readonly any[],\n): string {\n  const ctx = useContext(ReactAlpContext) as AlpContext;\n  return useMemo(\n    () => {\n      return ctx.t(id, params);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    !deps ? [id] : [id, ...deps],\n  );\n}\n","import { useContext, useMemo } from 'react';\nimport ReactAlpContext from 'react-alp-context';\n\ninterface AlpContext {\n  t: (id: string, params?: { [key: string]: any }) => string;\n}\n\n// for params: 2 solutions: params that are send to all or mapped params.\n// in both case it will be more difficult to use memo deps\nexport default function useTs(ids: string[]): string[] {\n  const ctx: AlpContext = useContext(ReactAlpContext) as AlpContext;\n  return useMemo(() => {\n    return ids.map((id) => ctx.t(id));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ids.join(',')]);\n}\n","import React from 'react';\nimport useT from './useT';\nimport useTs from './useTs';\n\ninterface Props {\n  id: string;\n  children?: never;\n  [propName: string]: any;\n}\n\nfunction T({ id, ...props }: Props): React.ReactElement {\n  const t = useT(id, props, Object.values(props));\n  return (t as unknown) as React.ReactElement;\n}\n\nexport { T, useT, useTs };\n"],"names":["useT","id","params","deps","ctx","useContext","ReactAlpContext","useMemo","t","useTs","ids","map","join","T","props","Object","values"],"mappings":";;;;;;;;;;AAWe,SAASA,IAAT,CACbC,EADa,EAEbC,MAFa,EAGbC,IAHa,EAIL;MACFC,GAAG,GAAGC,gBAAU,CAACC,eAAD,CAAtB;SACOC,aAAO,CACZ,YAAM;WACGH,GAAG,CAACI,CAAJ,CAAMP,EAAN,EAAUC,MAAV,CAAP;GAFU;GAKXC,IAAD,GAAQ,CAACF,EAAD,CAAR,IAAgBA,EAAhB,SAAuBE,IAAvB,CALY,CAAd;;;ACVF;;AAEA,AAAe,SAASM,KAAT,CAAeC,GAAf,EAAwC;MAC/CN,GAAe,GAAGC,gBAAU,CAACC,eAAD,CAAlC;SACOC,aAAO,CAAC,YAAM;WACZG,GAAG,CAACC,GAAJ,CAAQ,UAACV,EAAD;aAAQG,GAAG,CAACI,CAAJ,CAAMP,EAAN,CAAR;KAAR,CAAP,CADmB;GAAP,EAGX,CAACS,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAD,CAHW,CAAd;;;ACDF,SAASC,CAAT,OAAwD;MAA3CZ,EAA2C,QAA3CA,EAA2C;MAApCa,KAAoC;;MAChDN,CAAC,GAAGR,IAAI,CAACC,EAAD,EAAKa,KAAL,EAAYC,MAAM,CAACC,MAAP,CAAcF,KAAd,CAAZ,CAAd;SACQN,CAAR;;;;;;;"}