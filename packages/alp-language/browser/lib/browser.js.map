{"version":3,"sources":["../../src/browser.js"],"names":[],"mappings":";;;;;kBAAwB;;;;EAAT,SAAS,WAAT,CAAqB,GAArB,EAA0B;AACrC,QAAM,SAAS,IAAI,OAAJ,CAAY,MAAZ,CADsB;AAErC,QAAM,qBAAqB,OAAO,GAAP,CAAW,oBAAX,CAArB,CAF+B;AAGrC,QAAI,CAAC,kBAAD,EAAqB;AACrB,cAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN,CADqB;KAAzB;;AAIA,QAAI,CAAC,UAAU,SAAV,CAAoB,IAApB,CAAyB,oBAAY;AACtC,YAAM,IAAI,SAAS,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuB,WAAvB,EAAJ,CADgC;AAEtC,YAAI,mBAAmB,OAAnB,CAA2B,CAA3B,MAAkC,CAAC,CAAD,EAAI;AACtC,gBAAI,OAAJ,CAAY,QAAZ,GAAuB,CAAvB,CADsC;AAEtC,mBAAO,IAAP,CAFsC;SAA1C;;AAKA,eAAO,KAAP,CAPsC;KAAZ,CAA1B,EAQA;AACA,YAAI,OAAJ,CAAY,QAAZ,GAAuB,mBAAmB,CAAnB,CAAvB,CADA;KARJ;CAPW","file":"browser.js","sourcesContent":["export default function alpLanguage(app) {\n    const config = app.context.config;\n    const availableLanguages = config.get('availableLanguages');\n    if (!availableLanguages) {\n        throw new Error('Missing config \"availableLanguages\"');\n    }\n\n    if (!navigator.languages.some(language => {\n        const l = language.split('-')[0].toLowerCase();\n        if (availableLanguages.indexOf(l) !== -1) {\n            app.context.language = l;\n            return true;\n        }\n\n        return false;\n    })) {\n        app.context.language = availableLanguages[0];\n    }\n}\n"]}