{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"AAAA,SAAS,kBAAT,QAAmC,mBAAnC;;AAEA,eAAe,SAAS,WAAT,CAAqB,GAArB,EAA0B;AACvC,MAAM,SAAS,IAAI,OAAJ,CAAY,MAA3B;AACA,MAAM,qBAAqB,OAAO,GAAP,CAAW,oBAAX,CAA3B;AACA,MAAI,CAAC,kBAAL,EAAyB;AACvB,UAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN;AACD;;AAED,qBAAmB,IAAI,OAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACtD,WAAO,KAAK,gBAAL,CAAsB,kBAAtB,CAAP;AACD,GAFD;;AAIA,qBAAmB,IAAI,OAAvB,EAAgC,uBAAhC,EAAyD,YAAY;AACnE,WAAO,KAAK,gBAAL,GAAwB,CAAxB,KAA8B,mBAAmB,CAAnB,CAArC;AACD,GAFD;AAGD","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\n\nexport default function alpLanguage(app) {\n  const config = app.context.config;\n  const availableLanguages = config.get('availableLanguages');\n  if (!availableLanguages) {\n    throw new Error('Missing config \"availableLanguages\"');\n  }\n\n  defineLazyProperty(app.context, 'language', function () {\n    return this.acceptsLanguages(availableLanguages);\n  });\n\n  defineLazyProperty(app.context, 'firstAcceptedLanguage', function () {\n    return this.acceptsLanguages()[0] || availableLanguages[0];\n  });\n}\n"]}