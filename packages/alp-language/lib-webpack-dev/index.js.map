{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"AAAA,SAAS,kBAAT,QAAmC,mBAAnC;;AAEA,eAAe,SAAS,WAAT,CAAqB,GAArB,EAA0B;AACrC,QAAM,SAAS,IAAI,OAAJ,CAAY,MAA3B;AACA,QAAM,qBAAqB,OAAO,GAAP,CAAW,oBAAX,CAA3B;AACA,QAAI,CAAC,kBAAL,EAAyB;AACrB,cAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN;AACH;;AAED,uBAAmB,IAAI,OAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACpD,eAAO,KAAK,gBAAL,CAAsB,kBAAtB,CAAP;AACH,KAFD;;AAIA,uBAAmB,IAAI,OAAvB,EAAgC,uBAAhC,EAAyD,YAAY;AACjE,eAAO,KAAK,gBAAL,GAAwB,CAAxB,KAA8B,mBAAmB,CAAnB,CAArC;AACH,KAFD;AAGH","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\n\nexport default function alpLanguage(app) {\n    const config = app.context.config;\n    const availableLanguages = config.get('availableLanguages');\n    if (!availableLanguages) {\n        throw new Error('Missing config \"availableLanguages\"');\n    }\n\n    defineLazyProperty(app.context, 'language', function () {\n        return this.acceptsLanguages(availableLanguages);\n    });\n\n    defineLazyProperty(app.context, 'firstAcceptedLanguage', function () {\n        return this.acceptsLanguages()[0] || availableLanguages[0];\n    });\n}\n"]}