{"version":3,"sources":["../src/browser.js"],"names":[],"mappings":"AAAA;AACA,eAAe,SAAS,WAAT,CAAqB,GAArB,EAA0B;AACrC,QAAM,SAAS,IAAI,OAAJ,CAAY,MAA3B;AACA,QAAM,qBAAqB,OAAO,GAAP,CAAW,oBAAX,CAA3B;AACA,QAAI,CAAC,kBAAL,EAAyB;AACrB,cAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN;AACH;;AAED,QAAI,OAAJ,CAAY,qBAAZ,GAAoC,UAAU,SAAV,CAAoB,CAApB,KAA0B,mBAAmB,CAAnB,CAA9D;;AAEA,QAAI,CAAC,UAAU,SAAV,CAAoB,IAApB,CAAyB,YAAY;AACtC,YAAM,eAAe,SAAS,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuB,WAAvB,EAArB;AACA,YAAI,mBAAmB,OAAnB,CAA2B,YAA3B,QAAJ,EAAqD;AACjD,gBAAI,OAAJ,CAAY,QAAZ,GAAuB,YAAvB;AACA,mBAAO,IAAP;AACH;;AAED,eAAO,KAAP;AACH,KARI,CAAL,EAQI;AACA,YAAI,OAAJ,CAAY,QAAZ,GAAuB,mBAAmB,CAAnB,CAAvB;AACH;AACJ","file":"browser.js","sourcesContent":["/* global navigator */\nexport default function alpLanguage(app) {\n    const config = app.context.config;\n    const availableLanguages = config.get('availableLanguages');\n    if (!availableLanguages) {\n        throw new Error('Missing config \"availableLanguages\"');\n    }\n\n    app.context.firstAcceptedLanguage = navigator.languages[0] || availableLanguages[0];\n\n    if (!navigator.languages.some(language => {\n        const languageCode = language.split('-')[0].toLowerCase();\n        if (availableLanguages.indexOf(languageCode) !== -1) {\n            app.context.language = languageCode;\n            return true;\n        }\n\n        return false;\n    })) {\n        app.context.language = availableLanguages[0];\n    }\n}\n"]}