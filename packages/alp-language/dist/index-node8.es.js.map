{"version":3,"file":"index-node8.es.js","sources":["../src/index.js"],"sourcesContent":["import { defineLazyProperty } from 'object-properties/src';\n\nexport default function alpLanguage(app) {\n  const config = app.context.config;\n  const availableLanguages: Array<string> = config.get('availableLanguages');\n  if (!availableLanguages) {\n    throw new Error('Missing config \"availableLanguages\"');\n  }\n\n  defineLazyProperty(app.context, 'language', function() {\n    return this.acceptsLanguages(availableLanguages);\n  });\n\n  defineLazyProperty(app.context, 'firstAcceptedLanguage', function() {\n    return this.acceptsLanguages()[0] || availableLanguages[0];\n  });\n}\n"],"names":["alpLanguage","app","config","context","availableLanguages","get","Error","acceptsLanguages"],"mappings":";;AAEe,SAASA,WAAT,CAAqBC,GAArB,EAA0B;QACjCC,SAASD,IAAIE,OAAJ,CAAYD,MAA3B;QACME,qBAAoCF,OAAOG,GAAP,CAAW,oBAAX,CAA1C;MACI,CAACD,kBAAL,EAAyB;UACjB,IAAIE,KAAJ,CAAU,qCAAV,CAAN;;;qBAGiBL,IAAIE,OAAvB,EAAgC,UAAhC,EAA4C,YAAW;WAC9C,KAAKI,gBAAL,CAAsBH,kBAAtB,CAAP;GADF;;qBAImBH,IAAIE,OAAvB,EAAgC,uBAAhC,EAAyD,YAAW;WAC3D,KAAKI,gBAAL,GAAwB,CAAxB,KAA8BH,mBAAmB,CAAnB,CAArC;GADF;;;;;"}