{"version":3,"file":"index-browser-dev.cjs.js","sources":["../src/browser.js"],"sourcesContent":["/* global navigator */\nexport default function alpLanguage(app) {\n  const config = app.context.config;\n  const availableLanguages = config.get('availableLanguages');\n  if (!availableLanguages) {\n    throw new Error('Missing config \"availableLanguages\"');\n  }\n\n  app.context.firstAcceptedLanguage = navigator.languages[0] || availableLanguages[0];\n\n  const languageFound = navigator.languages.some(language => {\n    const languageCode = language.split('-')[0].toLowerCase();\n    if (availableLanguages.indexOf(languageCode) !== -1) {\n      app.context.language = languageCode;\n      return true;\n    }\n\n    return false;\n  });\n\n  if (!languageFound) {\n    app.context.language = availableLanguages[0];\n  }\n}\n"],"names":["alpLanguage","app","config","context","availableLanguages","get","Error","firstAcceptedLanguage","navigator","languages","languageFound","some","languageCode","language","split","toLowerCase","indexOf"],"mappings":";;AAAA;AACA,AAAe,SAASA,WAAT,CAAqBC,GAArB,EAA0B;MACjCC,SAASD,IAAIE,OAAJ,CAAYD,MAA3B;MACME,qBAAqBF,OAAOG,GAAP,CAAW,oBAAX,CAA3B;MACI,CAACD,kBAAL,EAAyB;UACjB,IAAIE,KAAJ,CAAU,qCAAV,CAAN;;;MAGEH,OAAJ,CAAYI,qBAAZ,GAAoCC,UAAUC,SAAV,CAAoB,CAApB,KAA0BL,mBAAmB,CAAnB,CAA9D;;MAEMM,gBAAgBF,UAAUC,SAAV,CAAoBE,IAApB,CAAyB,oBAAY;QACnDC,eAAeC,SAASC,KAAT,CAAe,GAAf,EAAoB,CAApB,EAAuBC,WAAvB,EAArB;QACIX,mBAAmBY,OAAnB,CAA2BJ,YAA3B,MAA6C,CAAC,CAAlD,EAAqD;UAC/CT,OAAJ,CAAYU,QAAZ,GAAuBD,YAAvB;aACO,IAAP;;;WAGK,KAAP;GAPoB,CAAtB;;MAUI,CAACF,aAAL,EAAoB;QACdP,OAAJ,CAAYU,QAAZ,GAAuBT,mBAAmB,CAAnB,CAAvB;;;;;;"}