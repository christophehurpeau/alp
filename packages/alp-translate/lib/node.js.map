{"version":3,"sources":["../src/node.js"],"names":[],"mappings":";;;;;kBAWwB;;;;;;;;;AAJxB,SAAS,OAAT,CAAiB,MAAjB,EAAyB,IAAzB,EAA+B;AAC3B,WAAO,OAAO,OAAP,CAAe,UAAf,EAA2B,CAAC,KAAD,EAAQ,MAAR,KAAmB,KAAK,SAAS,MAAT,EAAiB,EAAjB,CAAL,KAA8B,EAA9B,CAArD,CAD2B;CAA/B;;;;;EAIe,SAAS,YAAT,CAAsB,OAAtB,EAA+B;AAC1C,cAAU,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,GAAxB,CAAV,CAD0C;AAE1C,WAAO,OAAO;AACV,eAAO,MAAP,CAAc,IAAI,OAAJ,EAAa;AACvB;;;4BAAE,QAAiB;AACf,yBAAS,IAAI,YAAJ,CAAiB,GAAjB,CAAqB,KAAK,QAAL,CAArB,CAAoC,GAApC,CAAwC,MAAxC,KAAmD,MAAnD,CADM;;kDAAN;;iBAAM;;AAEf,uBAAO,OAAO,QAAQ,MAAR,EAAgB,IAAhB,CAAP,GAA+B,MAA/B,CAFQ;aADI;SAA3B,EADU;;AAQV,YAAI,YAAJ,GAAmB,IAAI,GAAJ,EAAnB,CARU;AASV,YAAI,MAAJ,CAAW,GAAX,CAAe,oBAAf,EAAqC,OAArC,CAA6C,YAAY;AACrD,gBAAI,YAAJ,CAAiB,GAAjB,CAAqB,QAArB,EAA+B,IAAI,UAAJ,CAAe,UAAU,QAAV,CAA9C,EADqD;SAAZ,CAA7C,CATU;KAAP,CAFmC;CAA/B","file":"node.js","sourcesContent":["/**\n * Format a string using {\\d} (like {0} or {1})\n *\n * @param {string} string\n * @param {string[]} args\n * @return {string}\n */\nfunction vformat(string, args) {\n    return string.replace(/{(\\d+)}/g, (match, number) => args[parseInt(number, 10)] || '');\n}\n\nexport default function aukTranslate(dirname) {\n    dirname = dirname.replace(/\\/*$/, '/');\n    return app => {\n        Object.assign(app.context, {\n            t(string, ...args) {\n                string = app.translations.get(this.language).get(string) || string;\n                return args ? vformat(string, args) : string;\n            },\n        });\n\n        app.translations = new Map();\n        app.config.get('availableLanguages').forEach(language => {\n            app.translations.set(language, app.loadConfig(dirname + language));\n        });\n    };\n}\n"]}