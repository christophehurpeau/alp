{"version":3,"sources":["../src/browser.js"],"names":[],"mappings":";;;;;kBAWwB;;;;;;;;;AAJxB,SAAS,OAAT,CAAiB,MAAjB,EAAyB,IAAzB,EAA+B;AAC3B,WAAO,OAAO,OAAP,CAAe,UAAf,EAA2B,CAAC,KAAD,EAAQ,MAAR,KAAmB,KAAK,SAAS,MAAT,EAAiB,EAAjB,CAAL,KAA8B,EAA9B,CAArD,CAD2B;CAA/B;;;;;EAIe,SAAS,aAAT,CAAuB,OAAvB,EAAgC;AAC3C,cAAU,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,GAAxB,CAAV,CAD2C;AAE3C,WAAO,OAAO;AACV,eAAO,MAAP,CAAc,IAAI,OAAJ,EAAa;AACvB;;;4BAAE,QAAiB;AACf,yBAAS,IAAI,YAAJ,CAAiB,GAAjB,CAAqB,MAArB,KAAgC,MAAhC,CADM;;kDAAN;;iBAAM;;AAEf,uBAAO,OAAO,QAAQ,MAAR,EAAgB,IAAhB,CAAP,GAA+B,MAA/B,CAFQ;aADI;SAA3B,EADU;;AAQV,cAAM,WAAW,IAAI,OAAJ,CAAY,QAAZ,CARP;AASV,eAAO,IAAI,UAAJ,CAAe,UAAU,QAAV,CAAf,CACF,IADE,CACG,OAAO,IAAI,YAAJ,GAAmB,GAAnB,CADjB,CATU;KAAP,CAFoC;CAAhC","file":"browser.js","sourcesContent":["/**\n * Format a string using {\\d}\n *\n * @param {string} string\n * @param {string[]} args\n * @return {string}\n */\nfunction vformat(string, args) {\n    return string.replace(/{(\\d+)}/g, (match, number) => args[parseInt(number, 10)] || '');\n}\n\nexport default function ibexTranslate(dirname) {\n    dirname = dirname.replace(/\\/*$/, '/');\n    return app => {\n        Object.assign(app.context, {\n            t(string, ...args) {\n                string = app.translations.get(string) || string;\n                return args ? vformat(string, args) : string;\n            },\n        });\n\n        const language = app.context.language;\n        return app.loadConfig(dirname + language)\n            .then(map => app.translations = map);\n    };\n}\n"]}