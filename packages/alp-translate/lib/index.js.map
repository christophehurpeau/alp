{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAsBwB,YAAY;;;;;;;;AAfpC,SAAS,MAAM,CAAC,MAAM,EAAW;sCAAN,IAAI;AAAJ,YAAI;;;AAC3B,WAAO,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;CAChC;;;;;;;;;AAAA,AASD,SAAS,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE;AAC3B,WAAO,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,MAAM,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;CAC1F;;AAEc,SAAS,YAAY,CAAC,OAAO,EAAE;AAC1C,WAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACvC,WAAO,GAAG,IAAI;AACV,cAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE;AACvB,aAAC,aAAC,MAAM,EAAW;AACf,sBAAM,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC;;mDAD1D,IAAI;AAAJ,wBAAI;;;AAEb,uBAAO,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC;aAChD;SACJ,CAAC,CAAC;;AAEH,WAAG,CAAC,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;AAC7B,WAAG,CAAC,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI;AACrD,eAAG,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC;SACtE,CAAC,CAAC;KACN,CAAC;CACL","file":"index.js","sourcesContent":["/**\n * Format a string using %s\n *\n * @param {string} string\n * @param {...string} args\n * @return {string}\n */\nfunction format(string, ...args) {\n    return vformat(string, args);\n}\n\n/**\n * Format a string using {\\d}\n *\n * @param {string} string\n * @param {string[]} args\n * @return {string}\n */\nfunction vformat(string, args) {\n    return string.replace(/{(\\d+)}/g, (match, number) => args[parseInt(number, 10)] || '');\n}\n\nexport default function aukTranslate(dirname) {\n    dirname = dirname.replace(/\\/*$/, '/');\n    return app => {\n        Object.assign(app.context, {\n            t(string, ...args) {\n                string = app.translations.get(this.language).get(string) || string;\n                return args ? vformat(string, args) : string;\n            },\n        });\n\n        app.translations = new Map();\n        app.config.get('availableLanguages').forEach(language => {\n            app.translations.set(language, app.loadConfig(dirname + language));\n        });\n    };\n}\n"]}