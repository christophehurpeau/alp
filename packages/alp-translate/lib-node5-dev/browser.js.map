{"version":3,"sources":["../src/browser.js"],"names":[],"mappings":";;;;;kBAEwB,Y;;AAFxB;;;;;;AAEe,SAAS,YAAT,CAAsB,OAAtB,EAA+B;AAC1C,cAAU,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,GAAxB,CAAV;AACA,WAAO,OAAO;AACV,eAAO,MAAP,CAAc,IAAI,OAAlB,EAA2B;AACvB,aADuB,aACrB,GADqB,EACR,IADQ,EACe;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,6BAApC,GAAoC;AAAA,+HAApC,GAAoC;AAAA;;AAAA,sBAAvB,IAAuB,YAAvB,IAAuB,YAAhB,MAAgB;AAAA,iIAAvB,IAAuB;AAAA;;AAClC,sBAAM,MAAM,IAAI,YAAJ,CAAiB,GAAjB,CAAqB,GAArB,CAAZ;AACA,oBAAI,CAAC,GAAL,EAAU,OAAO,GAAP;AAFwB,0BAG3B,IAAI,MAAJ,CAAW,IAAX,CAH2B;AAIrC;AALsB,SAA3B;;AAQA,cAAM,WAAW,IAAI,OAAJ,CAAY,QAA7B;AACA,eAAO,IAAI,UAAJ,CAAe,UAAU,QAAzB,EACF,IADE,CACG;AAAA,mBAAO,IAAI,YAAJ,GAAmB,oBAAK,GAAL,EAAU,QAAV,CAA1B;AAAA,SADH,CAAP;AAEH,KAZD;AAaH","file":"browser.js","sourcesContent":["import load from './load';\n\nexport default function alpTranslate(dirname) {\n    dirname = dirname.replace(/\\/*$/, '/');\n    return app => {\n        Object.assign(app.context, {\n            t(key: string, args: ?Object): string {\n                const msg = app.translations.get(key);\n                if (!msg) return key;\n                return msg.format(args);\n            },\n        });\n\n        const language = app.context.language;\n        return app.loadConfig(dirname + language)\n            .then(map => app.translations = load(map, language));\n    };\n}\n"]}