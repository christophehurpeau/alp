{"version":3,"sources":["../src/browser.js"],"names":["load","alpTranslate","dirname","replace","app","Object","assign","context","t","key","args","msg","translations","get","format","language","loadConfig","then","map"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;;;AAEA,eAAe,SAASC,YAAT,CAAsBC,OAAtB,EAAuC;AAAA,qBAAV,WAAU;;AAEpD,4DADAA,8BAAUA,QAAQC,OAAR,CAAgB,MAAhB,EAAwB,GAAxB,CAAV,CACA,EAAOC,OAAO;AACZC,WAAOC,MAAP,CAAcF,IAAIG,OAAlB,EAA2B;AACzBC,QAAEC,GAAF,EAAeC,IAAf,EAAsC;AAAA,uBAAjC,WAAiC;;AAAA,wBAAnB,YAAG,WAAH,CAAmB;;AAAA,sCAAP,WAAO;;AAAA;;AACpC,cAAMC,MAAMP,IAAIQ,YAAJ,CAAiBC,GAAjB,CAAqBJ,GAArB,CAAZ;AADoC,eAE/BE,GAF+B,sBAG7BA,IAAIG,MAAJ,CAAWJ,IAAX,CAH6B,uBAEnBD,GAFmB;AAIrC;AALwB,KAA3B,CADY;;;AASZ,UAAMM,WAAWX,IAAIG,OAAJ,CAAYQ,QAA7B;AACA,WAAOX,IAAIY,UAAJ,CAAed,UAAUa,QAAzB,EAAmCE,IAAnC,CAAwCC,OAAQd,IAAIQ,YAAJ,GAAmBZ,KAAKkB,GAAL,EAAUH,QAAV,CAAnE,CAAP;AACD,GAXD;AAYD","file":"browser.js","sourcesContent":["import load from './load';\n\nexport default function alpTranslate(dirname: string) {\n  dirname = dirname.replace(/\\/*$/, '/');\n  return app => {\n    Object.assign(app.context, {\n      t(key: string, args: ?Object): string {\n        const msg = app.translations.get(key);\n        if (!msg) return key;\n        return msg.format(args);\n      },\n    });\n\n    const language = app.context.language;\n    return app.loadConfig(dirname + language).then(map => (app.translations = load(map, language)));\n  };\n}\n"]}