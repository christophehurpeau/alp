{"version":3,"sources":["../src/index.js"],"names":["alpParams","ParamValidator","app","Object","assign","context","param","name","namedParam","paramGET","namedParams","route","get","otherParam","position","otherParams","query","paramGETorPOST","body"],"mappings":";;;;;;kBAMwBA,S;;AANxB;;AACA;;;;AACA;;;;;;QAESC,c;AAEM,SAASD,SAAT,CAAmBE,GAAnB,EAAwB;AACrCC,SAAOC,MAAP,CAAcF,IAAIG,OAAlB,EAA2B;AACzBC,UAAMC,IAAN,EAAY;AACV,aAAO,KAAKC,UAAL,CAAgBD,IAAhB,KAAyB,KAAKE,QAAL,CAAcF,IAAd,CAAhC;AACD,KAHwB;;AAKzBC,eAAWD,IAAX,EAAiB;AACf,UAAIG,cAAc,KAAKC,KAAL,CAAWD,WAA7B;AACA,aAAOA,eAAeA,YAAYE,GAAZ,CAAgBL,IAAhB,CAAtB;AACD,KARwB;;AAUzBM,eAAWC,QAAX,EAAqB;AACnB,UAAIC,cAAc,KAAKJ,KAAL,CAAWI,WAA7B;AACA,aAAOA,eAAeA,YAAYD,WAAW,CAAvB,CAAtB;AACD,KAbwB;;AAezBL,aAASF,IAAT,EAAe;AACb,UAAIS,QAAQ,KAAKA,KAAjB;AACA,aAAOA,SAASA,MAAMT,IAAN,CAAhB;AACD,KAlBwB;;AAoBzBU,mBAAeV,IAAf,EAAqB;AACnB,aAAO,KAAKW,IAAL,CAAUX,IAAV,eAAkD,KAAKS,KAAL,CAAWT,IAAX,CAAlD,GAAgC,KAAKW,IAAL,CAAUX,IAAV,CAAvC;AACD;AAtBwB,GAA3B,CADqC,EA0BrC,0CAAmBL,IAAIG,OAAvB,EAAgC,QAAhC,EAA0C,YAAW;AACnD,WAAO,6BAAmB,IAAnB,CAAP;AACD,GAFD,CA1BqC,EA8BrC,0CAAmBH,IAAIG,OAAvB,EAAgC,aAAhC,EAA+C,YAAW;AACxD,WAAO,kCAAwB,IAAxB,CAAP;AACD,GAFD,CA9BqC;AAiCtC","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\nimport ParamValidator from './ParamValidator';\nimport ParamValidatorValid from './ParamValidatorValid';\n\nexport { ParamValidator };\n\nexport default function alpParams(app) {\n  Object.assign(app.context, {\n    param(name) {\n      return this.namedParam(name) || this.paramGET(name);\n    },\n\n    namedParam(name) {\n      let namedParams = this.route.namedParams;\n      return namedParams && namedParams.get(name);\n    },\n\n    otherParam(position) {\n      let otherParams = this.route.otherParams;\n      return otherParams && otherParams[position - 1];\n    },\n\n    paramGET(name) {\n      let query = this.query;\n      return query && query[name];\n    },\n\n    paramGETorPOST(name) {\n      return this.body[name] !== undefined ? this.body[name] : this.query[name];\n    },\n  });\n\n  defineLazyProperty(app.context, 'params', function() {\n    return new ParamValidator(this);\n  });\n\n  defineLazyProperty(app.context, 'validParams', function() {\n    return new ParamValidatorValid(this);\n  });\n}\n"]}