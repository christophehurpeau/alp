{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;kBAMwB,S;;AANxB;;AACA;;;;AACA;;;;;;QAES,c;AAEM,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACrC,SAAO,MAAP,CAAc,IAAI,OAAlB,EAA2B;AACzB,UAAM,IAAN,EAAY;AACV,aAAO,KAAK,UAAL,CAAgB,IAAhB,KAAyB,KAAK,QAAL,CAAc,IAAd,CAAhC;AACD,KAHwB;;AAKzB,eAAW,IAAX,EAAiB;AACf,UAAI,cAAc,KAAK,KAAL,CAAW,WAA7B;AACA,aAAO,eAAe,YAAY,GAAZ,CAAgB,IAAhB,CAAtB;AACD,KARwB;;AAUzB,eAAW,QAAX,EAAqB;AACnB,UAAI,cAAc,KAAK,KAAL,CAAW,WAA7B;AACA,aAAO,eAAe,YAAY,WAAW,CAAvB,CAAtB;AACD,KAbwB;;AAezB,aAAS,IAAT,EAAe;AACb,UAAI,QAAQ,KAAK,KAAjB;AACA,aAAO,SAAS,MAAM,IAAN,CAAhB;AACD,KAlBwB;;AAoBzB,mBAAe,IAAf,EAAqB;AACnB,aAAO,KAAK,IAAL,CAAU,IAAV,MAAoB,SAApB,GAAgC,KAAK,IAAL,CAAU,IAAV,CAAhC,GAAkD,KAAK,KAAL,CAAW,IAAX,CAAzD;AACD;AAtBwB,GAA3B;;AAyBA,4CAAmB,IAAI,OAAvB,EAAgC,QAAhC,EAA0C,YAAY;AACpD,WAAO,6BAAmB,IAAnB,CAAP;AACD,GAFD;;AAIA,4CAAmB,IAAI,OAAvB,EAAgC,aAAhC,EAA+C,YAAY;AACzD,WAAO,kCAAwB,IAAxB,CAAP;AACD,GAFD;AAGD","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\nimport ParamValidator from './ParamValidator';\nimport ParamValidatorValid from './ParamValidatorValid';\n\nexport { ParamValidator };\n\nexport default function alpParams(app) {\n  Object.assign(app.context, {\n    param(name) {\n      return this.namedParam(name) || this.paramGET(name);\n    },\n\n    namedParam(name) {\n      let namedParams = this.route.namedParams;\n      return namedParams && namedParams.get(name);\n    },\n\n    otherParam(position) {\n      let otherParams = this.route.otherParams;\n      return otherParams && otherParams[position - 1];\n    },\n\n    paramGET(name) {\n      let query = this.query;\n      return query && query[name];\n    },\n\n    paramGETorPOST(name) {\n      return this.body[name] !== undefined ? this.body[name] : this.query[name];\n    },\n  });\n\n  defineLazyProperty(app.context, 'params', function () {\n    return new ParamValidator(this);\n  });\n\n  defineLazyProperty(app.context, 'validParams', function () {\n    return new ParamValidatorValid(this);\n  });\n}\n"]}