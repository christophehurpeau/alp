{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAIwB,S;;AAJxB;;AACA;;;;AACA;;;;;;AAEe,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACnC,WAAO,MAAP,CAAc,IAAI,OAAlB,EAA2B;AACvB,cAAM,IAAN,EAAY;AACR,mBAAO,KAAK,UAAL,CAAgB,IAAhB,KAAyB,KAAK,QAAL,CAAc,IAAd,CAAhC;AACH,SAHsB;;AAKvB,mBAAW,IAAX,EAAiB;AACb,gBAAI,cAAc,KAAK,KAAL,CAAW,WAA7B;AACA,mBAAO,eAAe,YAAY,GAAZ,CAAgB,IAAhB,CAAtB;AACH,SARsB;;AAUvB,mBAAW,QAAX,EAAqB;AACjB,gBAAI,cAAc,KAAK,KAAL,CAAW,WAA7B;AACA,mBAAO,eAAe,YAAY,WAAW,CAAvB,CAAtB;AACH,SAbsB;;AAevB,iBAAS,IAAT,EAAe;AACX,gBAAI,QAAQ,KAAK,KAAjB;AACA,mBAAO,SAAS,MAAM,IAAN,CAAhB;AACH,SAlBsB;;AAoBvB,uBAAe,IAAf,EAAqB;AACjB,mBAAO,KAAK,IAAL,CAAU,IAAV,MAAoB,SAApB,GAAgC,KAAK,IAAL,CAAU,IAAV,CAAhC,GAAkD,KAAK,KAAL,CAAW,IAAX,CAAzD;AACH;AAtBsB,KAA3B;;AAyBA,8CAAmB,IAAI,OAAvB,EAAgC,QAAhC,EAA0C,YAAY;AAClD,eAAO,6BAAmB,IAAnB,CAAP;AACH,KAFD;AAGA,8CAAmB,IAAI,OAAvB,EAAgC,aAAhC,EAA+C,YAAY;AACvD,eAAO,kCAAwB,IAAxB,CAAP;AACH,KAFD;AAGH","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\nimport ParamValidator from './ParamValidator';\nimport ParamValidatorValid from './ParamValidatorValid';\n\nexport default function aukParams(app) {\n    Object.assign(app.context, {\n        param(name) {\n            return this.namedParam(name) || this.paramGET(name);\n        },\n\n        namedParam(name) {\n            let namedParams = this.route.namedParams;\n            return namedParams && namedParams.get(name);\n        },\n\n        otherParam(position) {\n            let otherParams = this.route.otherParams;\n            return otherParams && otherParams[position - 1];\n        },\n\n        paramGET(name) {\n            let query = this.query;\n            return query && query[name];\n        },\n\n        paramGETorPOST(name) {\n            return this.body[name] !== undefined ? this.body[name] : this.query[name];\n        },\n    });\n\n    defineLazyProperty(app.context, 'params', function () {\n        return new ParamValidator(this);\n    });\n    defineLazyProperty(app.context, 'validParams', function () {\n        return new ParamValidatorValid(this);\n    });\n}\n"]}