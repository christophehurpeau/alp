{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAIwB;;;;;;;;;;;;;;;;;;;;;EAAT,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACnC,WAAO,MAAP,CAAc,IAAI,OAAJ,EAAa;AACvB,cAAM,IAAN,EAAY;AACR,mBAAO,KAAK,UAAL,CAAgB,IAAhB,KAAyB,KAAK,QAAL,CAAc,IAAd,CAAzB,CADC;SAAZ;;AAIA,mBAAW,IAAX,EAAiB;AACb,gBAAI,cAAc,KAAK,KAAL,CAAW,WAAX,CADL;AAEb,mBAAO,eAAe,YAAY,GAAZ,CAAgB,IAAhB,CAAf,CAFM;SAAjB;;AAKA,mBAAW,QAAX,EAAqB;AACjB,gBAAI,cAAc,KAAK,KAAL,CAAW,WAAX,CADD;AAEjB,mBAAO,eAAe,YAAY,WAAW,CAAX,CAA3B,CAFU;SAArB;;AAKA,iBAAS,IAAT,EAAe;AACX,gBAAI,QAAQ,KAAK,KAAL,CADD;AAEX,mBAAO,SAAS,MAAM,IAAN,CAAT,CAFI;SAAf;;AAKA,uBAAe,IAAf,EAAqB;AACjB,mBAAO,KAAK,IAAL,CAAU,IAAV,MAAoB,SAApB,GAAgC,KAAK,IAAL,CAAU,IAAV,CAAhC,GAAkD,KAAK,KAAL,CAAW,IAAX,CAAlD,CADU;SAArB;KApBJ,EADmC;;AA0BnC,8CAAmB,IAAI,OAAJ,EAAa,QAAhC;;uEAA0C,YAAY;AAClD,eAAO,6BAAmB,IAAnB,CAAP,CADkD;KAAZ,CAA1C,CA1BmC;AA6BnC,8CAAmB,IAAI,OAAJ,EAAa,aAAhC;;4EAA+C,YAAY;AACvD,eAAO,kCAAwB,IAAxB,CAAP,CADuD;KAAZ,CAA/C,CA7BmC;CAAxB","file":"index.js","sourcesContent":["import { defineLazyProperty } from 'object-properties';\nimport ParamValidator from './ParamValidator';\nimport ParamValidatorValid from './ParamValidatorValid';\n\nexport default function aukParams(app) {\n    Object.assign(app.context, {\n        param(name) {\n            return this.namedParam(name) || this.paramGET(name);\n        },\n\n        namedParam(name) {\n            let namedParams = this.route.namedParams;\n            return namedParams && namedParams.get(name);\n        },\n\n        otherParam(position) {\n            let otherParams = this.route.otherParams;\n            return otherParams && otherParams[position - 1];\n        },\n\n        paramGET(name) {\n            let query = this.query;\n            return query && query[name];\n        },\n\n        paramGETorPOST(name) {\n            return this.body[name] !== undefined ? this.body[name] : this.query[name];\n        },\n    });\n\n    defineLazyProperty(app.context, 'params', function () {\n        return new ParamValidator(this);\n    });\n    defineLazyProperty(app.context, 'validParams', function () {\n        return new ParamValidatorValid(this);\n    });\n}\n"]}