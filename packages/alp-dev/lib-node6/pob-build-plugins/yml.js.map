{"version":3,"sources":["../../src/pob-build-plugins/yml.js"],"names":["module","exports","extension","destExtension","transform","content","src","serverConfig","browserConfig","slice","length","JSON","stringify","then","code","map"],"mappings":";;AAAA;;;;AACA;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,aAAW,KADI;AAEfC,iBAAe,MAFA;;AAIfC,YAAUC,OAAV,EAAmB,EAAEC,GAAF,EAAnB,EAA4B;AAC1B,QAAI,CAACC,YAAD,EAAeC,aAAf,IAAgC,8BAAeH,OAAf,EAAwB,mBAAQC,GAAR,CAAxB,CAApC;;AAEA,WAAO,yBACJ,WAASA,IAAIG,KAAJ,CAAU,OAAOC,MAAjB,EAAyB,CAAC,MAAMA,MAAhC,CAAwC,OAD7C,EAELC,KAAKC,SAAL,CAAeJ,aAAf,CAFK,EAGLK,IAHK,CAGA,OAAO,EAAEC,MAAMH,KAAKC,SAAL,CAAeL,YAAf,CAAR,EAAsCQ,KAAK,IAA3C,EAAP,CAHA,CAAP;AAID;AAXc,CAAjB","file":"yml.js","sourcesContent":["import writeFile from 'pob-babel/lib/utils/writeFile';\nimport { dirname } from 'path';\nimport loadConfigFile from '../utils/loadConfigFile';\n\nmodule.exports = {\n  extension: 'yml',\n  destExtension: 'json',\n\n  transform(content, { src }) {\n    let [serverConfig, browserConfig] = loadConfigFile(content, dirname(src));\n\n    return writeFile(\n      `public/${src.slice('src/'.length, -'yml'.length)}json`,\n      JSON.stringify(browserConfig),\n    ).then(() => ({ code: JSON.stringify(serverConfig), map: null }));\n  },\n};\n"]}