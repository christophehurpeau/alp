{"version":3,"sources":["../src/watch.js"],"names":["startBrowserSyncPort","browserSyncStartPort","startPort","Promise","all","findAPortNotInUse","then","browserSyncPort","port","require","resolve","start","catch","err","console","log","stack"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,uBAAuB,uBAAKC,oBAAL,IAA6B,IAA1D;AACA,MAAMC,YAAY,uBAAKA,SAAL,IAAkB,IAApC;;AAEAC,QAAQC,GAAR,CAAY,CACV,sBAAYC,iBAAZ,CAA8BL,oBAA9B,EAAoDA,uBAAuB,EAA3E,CADU,EAEV,sBAAYK,iBAAZ,CAA8BH,SAA9B,EAAyCA,YAAY,EAArD,CAFU,CAAZ,EAGGI,IAHH,CAGQ,CAAC,CAACC,eAAD,EAAkBC,IAAlB,CAAD,KAA6B;AACnC,+BAAW,CACTC,QAAQC,OAAR,CAAgB,gBAAhB,CADS,EAET,QAFS,EAGTH,eAHS,EAIT,aAJS,EAKTC,IALS,CAAX,EAMGG,KANH;;AAQA,SAAO,sBAAYH,IAAZ,CAAP;AACD,CAbD,EAaGI,KAbH,CAaSC,OAAOC,QAAQC,GAAR,CAAYF,IAAIG,KAAhB,CAbhB","file":"watch.js","sourcesContent":["import { node as nodeDaemon } from 'springbokjs-daemon/src';\nimport portscanner from 'portscanner';\nimport argv from 'minimist-argv';\nimport watchServer from './server';\n\nconst startBrowserSyncPort = argv.browserSyncStartPort || 3000;\nconst startPort = argv.startPort || 3050;\n\nPromise.all([\n  portscanner.findAPortNotInUse(startBrowserSyncPort, startBrowserSyncPort + 50),\n  portscanner.findAPortNotInUse(startPort, startPort + 50),\n]).then(([browserSyncPort, port]) => {\n  nodeDaemon([\n    require.resolve('./browser-sync'),\n    '--port',\n    browserSyncPort,\n    '--proxyPort',\n    port,\n  ]).start();\n\n  return watchServer(port);\n}).catch(err => console.log(err.stack));\n"]}