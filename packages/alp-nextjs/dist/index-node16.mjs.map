{"version":3,"file":"index-node16.mjs","sources":["../src/getDocumentInitialProps.tsx"],"sourcesContent":["import type NextDocument from 'next/document';\nimport { Main } from 'next/document';\nimport { Children } from 'react';\n// @ts-expect-error -- @types/react-native-web does not exists\nimport { AppRegistry } from 'react-native-web';\n\n// https://github.com/GeekyAnts/native-base-next-adapter/blob/master/document.js\n\n// Force Next-generated DOM elements to fill their parent's height\nexport const normalizeNextElementsCSS = `\n  html, body, #__next {\n    width: 100%;\n    /* To smooth any scrolling behavior */\n    -webkit-overflow-scrolling: touch;\n    margin: 0px;\n    padding: 0px;\n    /* Allows content to fill the viewport and go beyond the bottom */\n    min-height: 100%;\n  }\n  #__next {\n    flex-shrink: 0;\n    flex-basis: auto;\n    flex-direction: column;\n    flex-grow: 1;\n    display: flex;\n    flex: 1;\n  }\n  html {\n    scroll-behavior: smooth;\n    -webkit-text-size-adjust: 100%;\n    height: 100%;\n  }\n  body {\n    display: flex;\n    overflow-y: auto;\n    overscroll-behavior-y: none;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -ms-overflow-style: scrollbar;\n  }\n`;\n\n/**\n *\n * @example\n * ```\n * export { getDocumentInitialProps as getInitialProps } from 'alp-nextjs';\n *\n * export default class MyDocument extends NextDocument {\n *   static getInitialProps = getDocumentInitialProps;\n * }\n * ```\n */\nexport async function getDocumentInitialProps({\n  renderPage,\n}: Parameters<(typeof NextDocument)['getInitialProps']>[0]): ReturnType<\n  (typeof NextDocument)['getInitialProps']\n> {\n  AppRegistry.registerComponent('Main', () => Main);\n  const { getStyleElement } = AppRegistry.getApplication('Main');\n  const page = await renderPage();\n  const styles = [\n    <style dangerouslySetInnerHTML={{ __html: normalizeNextElementsCSS }} />,\n    getStyleElement(),\n  ];\n  return { ...page, styles: Children.toArray(styles) };\n}\n"],"names":["normalizeNextElementsCSS","getDocumentInitialProps","renderPage","AppRegistry","registerComponent","Main","getStyleElement","getApplication","page","styles","_jsx","__html","Children","toArray"],"mappings":";;;;;AASO,MAAMA,wBAAwB,GAAI,CAAA;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAeC,uBAAuB,CAAC;AAC5CC,EAAAA,UAAAA;AACuD,CAAC,EAExD;AACAC,EAAAA,WAAW,CAACC,iBAAiB,CAAC,MAAM,EAAE,MAAMC,IAAI,CAAC,CAAA;EACjD,MAAM;AAAEC,IAAAA,eAAAA;AAAgB,GAAC,GAAGH,WAAW,CAACI,cAAc,CAAC,MAAM,CAAC,CAAA;AAC9D,EAAA,MAAMC,IAAI,GAAG,MAAMN,UAAU,EAAE,CAAA;EAC/B,MAAMO,MAAM,GAAG,cACbC,GAAA,CAAA,OAAA,EAAA;AAAO,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEX,wBAAAA;AAAyB,KAAA;GAAK,CAAA,EACxEM,eAAe,EAAE,CAClB,CAAA;EACD,OAAO;AAAE,IAAA,GAAGE,IAAI;AAAEC,IAAAA,MAAM,EAAEG,QAAQ,CAACC,OAAO,CAACJ,MAAM,CAAA;GAAG,CAAA;AACtD;;;;"}