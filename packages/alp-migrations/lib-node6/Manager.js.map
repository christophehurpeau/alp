{"version":3,"sources":["../src/Manager.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEe,MAAM,iBAAN,+BAAgD;;AAG3D,sBAAkB;AACd,eAAO,KAAK,KAAL,CAAW,OAAX,CAAmB,EAAnB,EAAuB,EAAE,WAAF,EAAvB,EACF,IADE,CACG,OAAO,OAAO,IAAI,OADrB,CAAP;AAEH;;AAED,qBAAiB,SAAjB,EAA4B;AACxB,eAAO,KAAK,KAAL,CAAW,SAAX,CAAqB,SAArB,CAAP;AACH;AAV0D;kBAA1C,iB","file":"Manager.js","sourcesContent":["import MongoStore from 'liwi/mongo';\nimport { AbstractManager } from 'liwi';\n\nexport default class MigrationsManager extends AbstractManager {\n    store: MongoStore;\n\n    findLastVersion() {\n        return this.store.findOne({}, { created: -1 })\n            .then(row => row && row.version);\n    }\n\n    addMigrationDone(migration) {\n        return this.store.insertOne(migration);\n    }\n}\n"]}