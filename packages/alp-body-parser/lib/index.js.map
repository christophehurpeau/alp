{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAiBwB;;AAjBxB;;;;;;;;;;;;;;;;AAEA,SAAS,SAAT,CAAmB,IAAnB,EAAyB,GAAzB,EAA8B;AAC1B,QAAI,IAAI,OAAJ,CAAY,IAAZ,EAAkB;AAClB,cAAM,IAAI,KAAJ,CAAU,2BAAV,CAAN,CADkB;KAAtB;;AAIA,WAAO,iBAAM,IAAN,EAAY,GAAZ,EAAiB,IAAjB,CAAsB,QAAQ;AACjC,YAAI,OAAJ,CAAY,IAAZ,GAAmB,IAAnB,CADiC;AAEjC,eAAO,IAAP,CAFiC;KAAR,CAA7B,CAL0B;CAA9B;;;;;;;;EAee,SAAS,aAAT,CAAuB,GAAvB,EAA4B;AACvC,QAAI,OAAJ,CAAY,SAAZ;;8BAAwB,YAAY;AAChC,eAAO,UAAU,MAAV,EAAkB,IAAlB,CAAP,CADgC;KAAZ,CADe;;AAKvC,QAAI,OAAJ,CAAY,aAAZ;;kCAA4B,YAAY;AACpC,eAAO,UAAU,MAAV,EAAkB,IAAlB,CAAP,CADoC;KAAZ,CALW;;AASvC,QAAI,OAAJ,CAAY,aAAZ;;kCAA4B,YAAY;AACpC,eAAO,UAAU,MAAV,EAAkB,IAAlB,CAAP,CADoC;KAAZ,CATW;CAA5B","file":"index.js","sourcesContent":["import parse from 'co-body';\n\nfunction parseBody(type, ctx) {\n    if (ctx.request.body) {\n        throw new Error('Request is already parsed');\n    }\n\n    return parse[type](ctx).then(body => {\n        ctx.request.body = body;\n        return body;\n    });\n}\n\n\n/**\n * @param {Koa} app\n */\nexport default function alpBodyParser(app) {\n    app.context.parseBody = function () {\n        return parseBody('form', this);\n    };\n\n    app.context.parseBodyJson = function () {\n        return parseBody('json', this);\n    };\n\n    app.context.parseBodyText = function () {\n        return parseBody('text', this);\n    };\n}\n"]}