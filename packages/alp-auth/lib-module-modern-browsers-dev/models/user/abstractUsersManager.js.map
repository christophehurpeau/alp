{"version":3,"sources":["../../../src/models/user/abstractUsersManager.js"],"names":["UserType","STATUSES","VALIDATED","DELETED","findOneByAccountOrEmails","provider","accountId","emails","Error","findConnected","connected","store","findByKey","insertOne","user","updateOne","transformForBrowser","id","displayName","fullName","status","emailDomains","accounts","map","account","name","profile"],"mappings":"AAAA,SAAcA,qBAAd,QAA8B,SAA9B;;;;;;AAEA,eAAe;AACbC,YAAU;AACRC,eAAW,WADH;AAERC,aAAS;AAFD,GADG;;AAMbC,2BACE,EAAEC,QAAF,EAAYC,SAAZ,EAAuBC,MAAvB,EADF,EAMsB;AAAA,aAAnB,iBAAQ,WAAC,eAAD,CAAR,CAAmB;AAAA,4BALW,SAC7B,uBAAU,UAAV,CAD6B,EAE7B,wBAAW,oBAAO,UAAP,CAAX,CAF6B,EAG7B,qBAAQ,WAAC,QAAM,UAAN,CAAD,CAAR,CAH6B,CAKX;;AACpB,UAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACD,GAdY;;AAgBbC,gBAAcC,SAAd,EAA6C;AAAA,kCAAnB,iBAAQ,WAAC,eAAD,CAAR,CAAmB;;AAC3C,+BAAO,KAAKC,KAAL,CAAWC,SAAX,CAAqBF,SAArB,CAAP;AACD,GAlBY;;AAoBbG,YAAUC,IAAV,EAA8B;AAAA,kCAAb,iBAAQ,OAAR,CAAa;;AAC5B,+BAAO,KAAKH,KAAL,CAAWE,SAAX,CAAqBC,IAArB,CAAP;AACD,GAtBY;;AAwBbC,YAAUD,IAAV,EAA8B;AAAA,kCAAb,iBAAQ,OAAR,CAAa;;AAC5B,+BAAO,KAAKH,KAAL,CAAWI,SAAX,CAAqBD,IAArB,CAAP;AACD,GA1BY;;AA4BbE,sBAAoBF,IAApB,EAA0B;AACxB,WAAO;AACLG,UAAIH,KAAKG,EADJ;AAELC,mBAAaJ,KAAKI,WAFb;AAGLC,gBAAUL,KAAKK,QAHV;AAILC,cAAQN,KAAKM,MAJR;AAKLb,cAAQO,KAAKP,MALR;AAMLc,oBAAcP,KAAKO,YANd;AAOLC,gBAAUR,KAAKQ,QAAL,CAAcC,GAAd,CAAkB;AAAA,eAAY;AACtClB,oBAAUmB,QAAQnB,QADoB;AAEtCC,qBAAWkB,QAAQlB,SAFmB;AAGtCmB,gBAAMD,QAAQC,IAHwB;AAItCL,kBAAQI,QAAQJ,MAJsB;AAKtCM,mBAASF,QAAQE;AALqB,SAAZ;AAAA,OAAlB;AAPL,KAAP;AAeD;AA5CY,CAAf","file":"abstractUsersManager.js","sourcesContent":["import type { UserType } from './types';\n\nexport default {\n  STATUSES: {\n    VALIDATED: 'validated',\n    DELETED: 'deleted',\n  },\n\n  findOneByAccountOrEmails(\n    { provider, accountId, emails }: {\n      provider: string,\n      accountId: string|number,\n      emails: ?Array<string>,\n    },\n  ): Promise<?UserType> {\n    throw new Error('Not implemented');\n  },\n\n  findConnected(connected): Promise<?UserType> {\n    return this.store.findByKey(connected);\n  },\n\n  insertOne(user): Promise<any> {\n    return this.store.insertOne(user);\n  },\n\n  updateOne(user): Promise<any> {\n    return this.store.updateOne(user);\n  },\n\n  transformForBrowser(user) {\n    return {\n      id: user.id,\n      displayName: user.displayName,\n      fullName: user.fullName,\n      status: user.status,\n      emails: user.emails,\n      emailDomains: user.emailDomains,\n      accounts: user.accounts.map(account => ({\n        provider: account.provider,\n        accountId: account.accountId,\n        name: account.name,\n        status: account.status,\n        profile: account.profile,\n      })),\n    };\n  },\n};\n"]}