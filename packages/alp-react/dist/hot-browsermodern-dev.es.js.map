{"version":3,"file":"hot-browsermodern-dev.es.js","sources":["../src/hot.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies, import/no-commonjs, global-require */\nimport { PRODUCTION } from 'pob-babel';\nimport { ComponentType } from 'react';\n\ntype Hot = <T = ComponentType<any>>(Component: T) => T;\n\nconst productionHot: Hot = (a) => a;\n\nconst devHot = () => {\n  const hotLoader = require('react-hot-loader/dist/react-hot-loader.development.js')\n    .hot;\n  const cache = require.cache;\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  if (!module.parents || module.parents.length === 0) {\n    throw new Error('alp-react: hot is not supported on your system.');\n  }\n  // access parent\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  const parent = cache[module.parents[0]];\n  // remove itself from a cache\n  delete cache[module.id];\n\n  // setup hot for caller\n  return hotLoader(parent);\n};\n\nexport const hot = (!PRODUCTION && module.hot\n  ? devHot()\n  : productionHot) as Hot;\n"],"names":["productionHot","a","devHot","hotLoader","require","hot","cache","module","parents","length","Error","parent","id"],"mappings":"AAAA;AAMA,MAAMA,aAAkB,GAAG,SAArBA,aAAqB,CAACC,CAAD;SAAOA,CAAP;CAA3B;;AAEA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;QACbC,SAAS,GAAGC,OAAO,CAAC,uDAAD,CAAP,CACfC,GADH;;QAEMC,KAAK,GAAGF,OAAO,CAACE,KAAtB,CAHmB;;;MAOf,CAACC,MAAM,CAACC,OAAR,IAAmBD,MAAM,CAACC,OAAP,CAAeC,MAAf,KAA0B,CAAjD,EAAoD;UAC5C,IAAIC,KAAJ,CAAU,iDAAV,CAAN;GARiB;;;;;QAabC,MAAM,GAAGL,KAAK,CAACC,MAAM,CAACC,OAAP,CAAe,CAAf,CAAD,CAApB,CAbmB;;SAeZF,KAAK,CAACC,MAAM,CAACK,EAAR,CAAZ,CAfmB;;SAkBZT,SAAS,CAACQ,MAAD,CAAhB;CAlBF;;AAqBA,MAAaN,GAAG,GAAmBE,MAAM,CAACF,GAAtB,GAChBH,MAAM,EADU,GAEhBF,aAFG;;;;"}