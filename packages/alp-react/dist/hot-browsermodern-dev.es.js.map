{"version":3,"file":"hot-browsermodern-dev.es.js","sources":["../src/hot.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies, import/no-commonjs, global-require */\nimport { PRODUCTION } from 'pob-babel';\nimport { ComponentType } from 'react';\n\ntype Hot = <T = ComponentType<any>>(Component: T) => T;\n\nconst productionHot: Hot = (a) => a;\n\nconst devHot = () => {\n  const hotLoader = require('react-hot-loader/dist/react-hot-loader.development.js')\n    .hot;\n  const cache = require.cache;\n\n  // @ts-ignore\n  if (!module.parents || !module.parents[0]) {\n    throw new Error('alp-react: hot is not supported on your system.');\n  }\n  // access parent\n  // @ts-ignore\n  const parent = cache[module.parents[0]];\n  // remove itself from a cache\n  delete cache[module.id];\n\n  // setup hot for caller\n  return hotLoader(Object.assign({ id: parent.i }, parent));\n};\n\nexport const hot = (!PRODUCTION && module.hot\n  ? devHot()\n  : productionHot) as Hot;\n"],"names":["productionHot","a","devHot","hotLoader","require","hot","cache","module","parents","Error","parent","id","Object","assign","i"],"mappings":"AAAA;AAMA,MAAMA,aAAkB,GAAG,SAArBA,aAAqB,CAACC,CAAD;SAAOA,CAAP;CAA3B;;AAEA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;QACbC,SAAS,GAAGC,OAAO,CAAC,uDAAD,CAAP,CACfC,GADH;;QAEMC,KAAK,GAAGF,OAAO,CAACE,KAAtB,CAHmB;;MAMf,CAACC,MAAM,CAACC,OAAR,IAAmB,CAACD,MAAM,CAACC,OAAP,CAAe,CAAf,CAAxB,EAA2C;UACnC,IAAIC,KAAJ,CAAU,iDAAV,CAAN;GAPiB;;;;QAWbC,MAAM,GAAGJ,KAAK,CAACC,MAAM,CAACC,OAAP,CAAe,CAAf,CAAD,CAApB,CAXmB;;SAaZF,KAAK,CAACC,MAAM,CAACI,EAAR,CAAZ,CAbmB;;SAgBZR,SAAS,CAACS,MAAM,CAACC,MAAP,CAAc;IAAEF,EAAE,EAAED,MAAM,CAACI;GAA3B,EAAgCJ,MAAhC,CAAD,CAAhB;CAhBF;;AAmBA,MAAaL,GAAG,GAAmBE,MAAM,CAACF,GAAtB,GAChBH,MAAM,EADU,GAEhBF,aAFG;;;;"}