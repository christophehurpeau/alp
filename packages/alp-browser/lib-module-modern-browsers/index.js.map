{"version":3,"sources":["../src/index.js"],"names":["Ibex","config","language","translate","Logger","Config","logger","AlpBrowser","constructor","path","version","window","VERSION","appVersion","init","environment","env","start","fn","then","success","catch","error","err"],"mappings":"AAAA;AACA,OAAOA,IAAP;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,OAAOC,SAAP;AACA,OAAOC,MAAP;;AAEA,SAASC,MAAT;;AAEA,MAAMC,SAAS,IAAIF,MAAJ,CAAW,KAAX,CAAf;;IAMqBG,U,GAAN,cAAyBP,IAAzB,CAA8B;;AAI3CQ,cAAYC,OAAO,GAAnB,EAAwB,EAAEC,UAAUC,OAAOC,OAAnB,OAAxB,EAAwE;AACtE;AACA,SAAKH,IAAL,GAAYA,IAAZ;AACA,SAAKI,UAAL,GAAkBF,OAAOC,OAAzB;AACD;;AAED,QAAME,IAAN,GAAa;AACX,UAAMb,OAAO,SAAP,EAAkB,IAAlB,CAAN;AACAC,aAAS,IAAT;AACA,UAAMC,UAAU,UAAV,EAAsB,IAAtB,CAAN;AACD;;AAED,MAAIY,WAAJ,GAAkB;AAChB,WAAO,KAAKC,GAAZ;AACD;;AAEDC,QAAMC,EAAN,EAAoB;AAClBA,SAAKC,IAAL,CAAU;AAAA,aAAMb,OAAOc,OAAP,CAAe,SAAf,CAAN;AAAA,KAAV,EAA2CC,KAA3C,CAAiD;AAAA,aAAOf,OAAOgB,KAAP,CAAa,YAAb,EAA2B,EAAEC,GAAF,EAA3B,CAAP;AAAA,KAAjD;AACD;AAtB0C,C;SAAxBhB,U","file":"index.js","sourcesContent":["/* global window */\nimport Ibex from 'ibex/src';\nimport config from 'alp-config/src';\nimport language from 'alp-language/src';\nimport translate from 'alp-translate/src';\nimport Logger from 'nightingale-logger/src';\n\nexport { Config } from 'alp-config/src';\n\nconst logger = new Logger('alp');\n\ntype OptionsType = {\n  version: ?string, // default to window.VERSION\n};\n\nexport default class AlpBrowser extends Ibex {\n  path: string;\n  appVersion: string;\n\n  constructor(path = '/', { version = window.VERSION }: OptionsType = {}) {\n    super();\n    this.path = path;\n    this.appVersion = window.VERSION;\n  }\n\n  async init() {\n    await config('/config')(this);\n    language(this);\n    await translate('/locales')(this);\n  }\n\n  get environment() {\n    return this.env;\n  }\n\n  start(fn: Function) {\n    fn().then(() => logger.success('started')).catch(err => logger.error('start fail', { err }));\n  }\n}\n"]}