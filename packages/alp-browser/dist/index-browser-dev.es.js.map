{"version":3,"file":"index-browser-dev.es.js","sources":["../src/index.js"],"sourcesContent":["import Ibex from 'ibex/src';\nimport config from 'alp-config/src';\nimport language from 'alp-language/src';\nimport translate from 'alp-translate/src';\nimport Logger from 'nightingale-logger/src';\n\nexport { Config } from 'alp-config/src';\n\nconst logger = new Logger('alp');\n\ntype OptionsType = {\n  version?: ?string, // default to window.VERSION\n};\n\nexport default class AlpBrowser extends Ibex {\n  path: string;\n  appVersion: string;\n\n  constructor(path = '/', { version = window.VERSION }: OptionsType = {}) {\n    super();\n    this.path = path;\n    this.appVersion = window.VERSION;\n  }\n\n  async init() {\n    await config('/config')(this);\n    language(this);\n    await translate('/locales')(this);\n  }\n\n  get environment() {\n    return this.env;\n  }\n\n  start(fn: Function) {\n    fn()\n      .then(() => logger.success('started'))\n      .catch(err => logger.error('start fail', { err }));\n  }\n}\n"],"names":["logger","Logger","AlpBrowser","path","version","window","VERSION","appVersion","config","translate","fn","then","success","catch","error","err","env","Ibex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAMA,SAAS,IAAIC,MAAJ,CAAW,KAAX,CAAf;;AAEA,wCAAmB,SACjB,sBAAU,WAAC,UAAD,CAAV,OADiB,CAAnB;;IAIqBC;;;wBAIqD;QAA5DC,IAA4D,uEAArD,GAAqD;;;;;;8BAApB,WAAoB;oDAA9CC,OAA8C;QAA9CA,OAA8C,yCAApCC,OAAOC,OAA6B;;;;UAEjEH,IAAL,GAAYA,IAAZ;UACKI,UAAL,GAAkBF,OAAOC,OAAzB;;;;;;;;;;;;;uBAIME,OAAO,SAAP,EAAkB,IAAlB;;;yBACG,IAAT;;uBACMC,UAAU,UAAV,EAAsB,IAAtB;;;;;;;;;;;;;;;;0BAOFC,IAAc;oBAAZ,YAAY;;;;WAEfC,IADH,CACQ;eAAMX,OAAOY,OAAP,CAAe,SAAf,CAAN;OADR,EAEGC,KAFH,CAES;eAAOb,OAAOc,KAAP,CAAa,YAAb,EAA2B,EAAEC,QAAF,EAA3B,CAAP;OAFT;;;;2BALgB;aACT,KAAKC,GAAZ;;;;EAjBoCC;;;;"}